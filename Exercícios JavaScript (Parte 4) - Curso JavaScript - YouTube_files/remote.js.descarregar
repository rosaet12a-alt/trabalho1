(function(g){var window=this;'use strict';var PRZ=function(m,V){return g.Om(m,V)},mfa=function(m){if(m instanceof g.Ti)return m;
if(typeof m.Bh=="function")return m.Bh(!1);if(g.vX(m)){let V=0;const O=new g.Ti;O.next=function(){for(;;){if(V>=m.length)return g.ND;if(V in m)return g.$e(m[V++]);V++}};
return O}throw Error("Not implemented");},VVh=function(m,V,O){if(g.vX(m))g.AG(m,V,O);
else for(m=mfa(m);;){const {done:h,value:w}=m.next();if(h)break;V.call(O,w,void 0,m)}},jz=function(m){g.jk(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.j$()).toString(36));
return m},L0=function(m,V,O){Array.isArray(O)||(O=[String(O)]);
g.En(m.D,V,O)},OTZ=function(m,V){const O=[];
VVh(V,function(h){let w;try{w=g.zm.prototype.n2.call(this,h,!0)}catch(y){if(y=="Storage: Invalid value was encountered")return;throw y;}w===void 0?O.push(h):g.uB(w)&&O.push(h)},m);
return O},hfA=function(m,V){OTZ(m,V).forEach(function(O){g.zm.prototype.remove.call(this,O)},m)},wVH=function(m){if(m.lH){if(m.lH.locationOverrideToken)return{locationOverrideToken:m.lH.locationOverrideToken};
if(m.lH.latitudeE7!=null&&m.lH.longitudeE7!=null)return{latitudeE7:m.lH.latitudeE7,longitudeE7:m.lH.longitudeE7}}return null},ygJ=function(m,V){g.$I(m,V)||m.push(V)},Jy=function(m){let V=0;
for(const O in m)V++;return V},jdz=function(m){try{return g.aC.JSON.parse(m)}catch(V){}m=String(m);
if(/^\s*$/.test(m)?0:/^[\],:{}\s\u2028\u2029]*$/.test(m.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+m+")")}catch(V){}throw Error("Invalid JSON string: "+m);},C0=function(m){if(g.aC.JSON)try{return g.aC.JSON.parse(m)}catch(V){}return jdz(m)},LEc=function(m,V,O,h){const w=new g.vD(null);
m&&g.PD(w,m);V&&g.mP(w,V);O&&g.VC(w,O);h&&(w.A=h);return w},JgJ=function(m,V){return new g.eS$(m,V)},EI=function(m,V){return Object.prototype.hasOwnProperty.call(m,V)},CAZ=function(m,V){return m===V},q4=function(m,V){this.A={};
this.Z=[];this.LV=this.size=0;var O=arguments.length;if(O>1){if(O%2)throw Error("Uneven number of arguments");for(var h=0;h<O;h+=2)this.set(arguments[h],arguments[h+1])}else if(m)if(m instanceof q4)for(O=m.cM(),h=0;h<O.length;h++)this.set(O[h],m.get(O[h]));else for(h in m)this.set(h,m[h])},M4=function(m){if(m.size!=m.Z.length){for(var V=0,O=0;V<m.Z.length;){var h=m.Z[V];
EI(m.A,h)&&(m.Z[O++]=h);V++}m.Z.length=O}if(m.size!=m.Z.length){V={};for(h=O=0;O<m.Z.length;){const w=m.Z[O];EI(V,w)||(m.Z[h++]=w,V[w]=1);O++}m.Z.length=h}},f0=function(m){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new q4;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";m&&(this.id=m.id||m.name,this.name=m.name,this.clientName=m.clientName?m.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=m.app,this.type=m.type||"REMOTE_CONTROL",this.username=m.user||"",this.avatar=m.userAvatarUri||"",this.obfuscatedGaiaId=m.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=m.ownerObfuscatedGaiaId||"",this.theme=m.theme||"u",ElG(this,m.capabilities||""),qkc(this,m.compatibleSenderThemes||""),MVh(this,m.experiments||""),this.brand=m.brand||"",this.model=m.model||"",this.year=m.year||0,this.os=m.os||"",this.osVersion=m.osVersion||"",this.chipset=m.chipset||"",this.mdxDialServerType=m.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",m=m.deviceInfo)&&(m=JSON.parse(m),this.brand=m.brand||"",this.model=m.model||"",this.year=m.year||0,this.os=m.os||"",this.osVersion=m.osVersion||"",this.chipset=m.chipset||"",this.clientName=m.clientName?m.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=m.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},ElG=function(m,V){m.capabilities.clear();
g.UJ(V.split(","),g.yW(PRZ,fLn)).forEach(O=>{m.capabilities.add(O)})},qkc=function(m,V){m.compatibleSenderThemes.clear();
g.UJ(V.split(","),g.yW(PRZ,xfa)).forEach(O=>{m.compatibleSenderThemes.add(O)})},MVh=function(m,V){m.experiments.clear();
V.split(",").forEach(O=>{m.experiments.add(O)})},x$=function(m){m=m||{};
this.name=m.name||"";this.id=m.id||m.screenId||"";this.token=m.token||m.loungeToken||"";this.uuid=m.uuid||m.dialId||"";this.idType=m.screenIdType||"normal";this.secret=m.screenIdSecret||""},Rp=function(m,V){return!!V&&(m.id==V||m.uuid==V)},RfA=function(m){return{name:m.name,
screenId:m.id,loungeToken:m.token,dialId:m.uuid,screenIdType:m.idType,screenIdSecret:m.secret}},olJ=function(m){return new x$(m)},glh=function(m){return Array.isArray(m)?g.dc(m,olJ):[]},op=function(m){return m?`{name:"${m.name}",id:${m.id.substr(0,6)}..,token:${m.token?".."+m.token.slice(-6):"-"},uuid:${m.uuid?".."+m.uuid.slice(-6):"-"},idType:${m.idType},secret:${m.secret?".."+m.secret.slice(-6):"-"}}`:"null"},gf=function(m){return Array.isArray(m)?"["+g.dc(m,op).join(",")+"]":"null"},Ay=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(m){const V=Math.random()*16|0;
return(m=="x"?V:V&3|8).toString(16)})},AgA=function(m){return g.dc(m,function(V){return{key:V.id,
name:V.name}})},UI=function(m,V){return g.HH(m,function(O){return O||V?!O!=!V?!1:O.id==V.id:!0})},df=function(m,V){return g.HH(m,function(O){return Rp(O,V)})},UfH=function(){const m=g.V4.tF();
m&&hfA(m,m.I4.Bh(!0))},ty=function(){const m=g.hc("yt-remote-connected-devices")||[];
g.sJ(m);return m},dfI=function(m){if(m.length==0)return[];
const V=m[0].indexOf("#"),O=V==-1?m[0]:m[0].substring(0,V);return g.dc(m,function(h,w){return w==0?h:h.substring(O.length)})},tVn=function(m){g.OL("yt-remote-connected-devices",m,86400)},WQ=function(){if(K0)return K0;
let m=g.hc("yt-remote-device-id");m||(m=Ay(),g.OL("yt-remote-device-id",m,31536E3));const V=ty();let O=1,h=m;for(;g.$I(V,h);)O++,h=m+"#"+O;return K0=h},XP=function(){let m=ty();
const V=WQ();g.y4()&&g.aA(m,V);m=dfI(m);if(m.length==0)try{g.Ei("remote_sid")}catch(O){}else try{g.Ji("remote_sid",m.join(","),-1)}catch(O){}},KEh=function(){return g.hc("yt-remote-session-browser-channel")},WEA=function(){return g.hc("yt-remote-local-screens")||[]},XVM=function(){g.OL("yt-remote-lounge-token-expiration",!0,86400)},HTH=function(m){m.length>5&&(m=m.slice(m.length-5));
const V=g.dc(WEA(),function(h){return h.loungeToken}),O=g.dc(m,function(h){return h.loungeToken});
g.WH(O,function(h){return!g.$I(V,h)})&&XVM();
g.OL("yt-remote-local-screens",m,31536E3)},HQ=function(m){m||(g.wo("yt-remote-session-screen-id"),g.wo("yt-remote-session-video-id"));
XP();m=ty();g.rc(m,WQ());tVn(m)},TjA=function(){if(!Ta){const m=g.pJ();
m&&(Ta=new g.bB(m))}},$fG=function(){TjA();
return Ta?!!Ta.get("yt-remote-use-staging-server"):!1},$$=function(m,V){g.OD[m]=!0;
const O=g.m7();O&&O.publish.apply(O,arguments);g.OD[m]=!1},Y$=function(){let m=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return m?parseInt(m[1],10):0},Yka=function(m){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+m)!=-1||document.currentScript.src.indexOf("&"+m)!=-1)},k6J=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},k$=function(m){m.length?rg$(m.shift(),function(){k$(m)}):rf()},rf=function(){let m=k6J();
m&&m(!1,"No cast extension found")},rg$=function(m,V,O){let h=document.createElement("script");
h.onerror=V;O&&(h.onload=O);g.xp(h,g.C3(m));(document.head||document.documentElement).appendChild(h)},cgh=function(m){return"chrome-extension://"+m+"/cast_sender.js"},Dfa=function(){const m=Y$(),V=[];
if(m>1){const O=m-1;V.push("//www.gstatic.com/eureka/clank/"+m+"/cast_sender.js");V.push("//www.gstatic.com/eureka/clank/"+O+"/cast_sender.js")}return V},cQ=function(){if(Nj5){var m=2,V=k6J(),O=function(){m--;
m==0&&V&&V(!0)};
window.__onGCastApiAvailable=O;rg$("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",rf,O)}},bTJ=function(){cQ();
let m=Dfa();m.push("//www.gstatic.com/eureka/clank/cast_sender.js");k$(m)},Sk5=function(){cQ();
let m=Dfa();m.push(...nlM.map(cgh));m.push("//www.gstatic.com/eureka/clank/cast_sender.js");k$(m)},D9=function(m,V,O){g.Ja.call(this);
this.U=O!=null?(0,g.wc)(m,O):m;this.ji=V;this.T=(0,g.wc)(this.qt,this);this.Z=!1;this.A=0;this.L=this.BB=null;this.D=[]},N4=function(){this.Z=g.j$()},ILA=function(){bS||(bS=new N4)},efG=function(){bS||(bS=new N4)},n0=function(){g.qO.call(this,"p")},Sz=function(){g.qO.call(this,"o")},Ip=function(){return uvn=uvn||new g.c3},zfG=function(m){g.qO.call(this,"serverreachability",m)},ez=function(m){const V=Ip();
V.dispatchEvent(new zfG(V,m))},ZT$=function(m){g.qO.call(this,"statevent",m)},uS=function(m){const V=Ip();
V.dispatchEvent(new ZT$(V,m))},sdG=function(m,V,O,h){g.qO.call(this,"timingevent",m);
this.size=V;this.rtt=O;this.retries=h},za=function(m,V){if(typeof m!=="function")throw Error("Fn must not be null and must be a function");
return g.aC.setTimeout(function(){m()},V)},Z9=function(){},sI=function(m,V,O,h){this.L=m;
this.D=V;this.lH=O;this.Sz=h||1;this.w0=new g.fe(this);this.Mf=45E3;this.g0=null;this.U=!1;this.V=this.YN=this.X=this.Te=this.Qt=this.Xr=this.Zu=null;this.S=[];this.Z=null;this.N=0;this.T=this.Ae=null;this.pA=-1;this.ze=!1;this.Nf=0;this.UH=null;this.jz=this.H6=this.xN=this.mS=!1;this.A=new FEH},FEH=function(){this.L=null;
this.Z="";this.A=!1},FP=function(m,V,O){m.Te=1;
m.X=jz(V.clone());m.V=O;m.mS=!0;aLa(m,null)},aLa=function(m,V){m.Qt=Date.now();
ap(m);m.YN=m.X.clone();L0(m.YN,"t",m.Sz);m.N=0;const O=m.L.H6;m.A=new FEH;m.Z=iTz(m.L,O?V:null,!m.V);m.Nf>0&&(m.UH=new g.mj((0,g.wc)(m.lD,m,m.Z),m.Nf));m.w0.listen(m.Z,"readystatechange",m.F0);V=m.g0?g.Em(m.g0):{};m.V?(m.Ae||(m.Ae="POST"),V["Content-Type"]="application/x-www-form-urlencoded",m.Z.send(m.YN,m.Ae,m.V,V)):(m.Ae="GET",m.Z.send(m.YN,m.Ae,null,V));ez(1)},pVn=function(m){if(!G6I(m))return g.uY(m.Z);
const V=g.zV(m.Z);if(V==="")return"";let O="";const h=V.length,w=g.SB(m.Z)==4;if(!m.A.L){if(typeof TextDecoder==="undefined")return iS(m),Ga(m),"";m.A.L=new g.aC.TextDecoder}for(let y=0;y<h;y++)m.A.A=!0,O+=m.A.L.decode(V[y],{stream:!(w&&y==h-1)});V.length=0;m.A.Z+=O;m.N=0;return m.A.Z},G6I=function(m){return m.Z?m.Ae=="GET"&&m.Te!=2&&m.L.Df:!1},lLh=function(m,V){var O=m.N,h=V.indexOf("\n",O);
if(h==-1)return p0;O=Number(V.substring(O,h));if(isNaN(O))return Bj$;h+=1;if(h+O>V.length)return p0;V=V.slice(h,h+O);m.N=h+O;return V},ap=function(m){m.Xr=Date.now()+m.Mf;
Qda(m,m.Mf)},Qda=function(m,V){if(m.Zu!=null)throw Error("WatchDog timer not null");
m.Zu=za((0,g.wc)(m.E4,m),V)},BQ=function(m){m.Zu&&(g.aC.clearTimeout(m.Zu),m.Zu=null)},Ga=function(m){m.L.wH()||m.ze||vlc(m.L,m)},iS=function(m){BQ(m);
g.jh(m.UH);m.UH=null;m.w0.removeAll();if(m.Z){const V=m.Z;m.Z=null;V.abort();V.dispose()}},wW=function(m,V){try{var O=m.L;
if(O.jt!=0&&(O.Z==m||lS(O.A,m)))if(!m.H6&&lS(O.A,m)&&O.jt==3){try{var h=O.Yf.Z.parse(V)}catch(E){h=null}if(Array.isArray(h)&&h.length==3){var w=h;if(w[0]==0)a:{if(!O.X){if(O.Z)if(O.Z.Qt+3E3<m.Qt)QP(O),vQ(O);else break a;PQ(O);uS(18)}}else O.cB=w[1],0<O.cB-O.Te&&w[2]<37500&&O.UH&&O.S==0&&!O.Zu&&(O.Zu=za((0,g.wc)(O.f9,O),6E3));if(mn(O.A)<=1&&O.pA){try{O.pA()}catch(E){}O.pA=void 0}}else Ve(O,11)}else if((m.H6||O.Z==m)&&QP(O),!g.dZ(V))for(w=O.Yf.Z.parse(V),V=0;V<w.length;V++){let E=w[V];const q=E[0];
if(!(q<=O.Te))if(O.Te=q,E=E[1],O.jt==2)if(E[0]=="c"){O.D=E[1];O.lH=E[2];const M=E[3];M!=null&&(O.R5=M);const f=E[5];f!=null&&typeof f==="number"&&f>0&&(O.Nf=1.5*f);h=O;const x=m.rR();if(x){const U=g.sg(x,"X-Client-Wire-Protocol");if(U){var y=h.A;!y.Z&&(g.tn(U,"spdy")||g.tn(U,"quic")||g.tn(U,"h2"))&&(y.D=y.T,y.Z=new Set,y.A&&(OK(y,y.A),y.A=null))}if(h.mS){const H=g.sg(x,"X-HTTP-Session-Id");H&&(h.Ug=H,g.jk(h.g0,h.mS,H))}}O.jt=3;O.T&&O.T.m2();O.HD&&(O.PD=Date.now()-m.Qt);h=O;var L=m;h.sU=PAn(h,h.H6?
h.lH:null,h.FA);if(L.H6){mhJ(h.A,L);var J=L,C=h.Nf;C&&J.setTimeout(C);J.Zu&&(BQ(J),ap(J));h.Z=L}else Vh$(h);O.L.length>0&&h$(O)}else E[0]!="stop"&&E[0]!="close"||Ve(O,7);else O.jt==3&&(E[0]=="stop"||E[0]=="close"?E[0]=="stop"?Ve(O,7):O.disconnect():E[0]!="noop"&&O.T&&O.T.cn(E),O.S=0)}ez(4)}catch(E){}},OUh=function(m){this.T=m||10;
g.aC.PerformanceNavigationTiming?(m=g.aC.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(g.aC.chrome&&g.aC.chrome.loadTimes&&g.aC.chrome.loadTimes()&&g.aC.chrome.loadTimes().wasFetchedViaSpdy);this.D=m?this.T:1;this.Z=null;this.D>1&&(this.Z=new Set);this.A=null;this.L=[]},hCz=function(m){return m.A?!0:m.Z?m.Z.size>=m.D:!1},mn=function(m){return m.A?1:m.Z?m.Z.size:0},lS=function(m,V){return m.A?m.A==V:m.Z?m.Z.has(V):!1},OK=function(m,
V){m.Z?m.Z.add(V):m.A=V},mhJ=function(m,V){m.A&&m.A==V?m.A=null:m.Z&&m.Z.has(V)&&m.Z.delete(V)},ye=function(m){if(m.A!=null)return m.L.concat(m.A.S);
if(m.Z!=null&&m.Z.size!==0){let V=m.L;for(const O of m.Z.values())V=V.concat(O.S);return V}return g.NA(m.L)},wFH=function(m,V){const O=new Z9;
if(g.aC.Image){const h=new Image;h.onload=g.yW(ji,O,"TestLoadImage: loaded",!0,V,h);h.onerror=g.yW(ji,O,"TestLoadImage: error",!1,V,h);h.onabort=g.yW(ji,O,"TestLoadImage: abort",!1,V,h);h.ontimeout=g.yW(ji,O,"TestLoadImage: timeout",!1,V,h);g.aC.setTimeout(function(){if(h.ontimeout)h.ontimeout()},1E4);
h.src=m}else V(!1)},yaW=function(m,V){const O=new Z9,h=new AbortController,w=setTimeout(()=>{h.abort();
ji(O,"TestPingServer: timeout",!1,V)},1E4);
fetch(m,{signal:h.signal}).then(y=>{clearTimeout(w);y.ok?ji(O,"TestPingServer: ok",!0,V):ji(O,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(w);
ji(O,"TestPingServer: error",!1,V)})},ji=function(m,V,O,h,w){try{w&&(w.onload=null,w.onerror=null,w.onabort=null,w.ontimeout=null),h(O)}catch(y){}},jIW=function(){this.Z=new L1},J$=function(m,V,O){return O&&O.nJ?O.nJ[m]||V:V},LMJ=function(m){this.L=[];
this.lH=this.sU=this.g0=this.FA=this.Z=this.Ug=this.mS=this.ze=this.N=this.xN=this.V=null;this.l2=this.YN=0;this.nC=J$("failFast",!1,m);this.UH=this.Zu=this.X=this.U=this.T=null;this.Ir=!0;this.cB=this.Te=-1;this.Sz=this.S=this.Qt=0;this.eb=J$("baseRetryDelayMs",5E3,m);this.He=J$("retryDelaySeedMs",1E4,m);this.xf=J$("forwardChannelMaxRetries",2,m);this.Vp=J$("forwardChannelRequestTimeoutMs",2E4,m);this.L4=m&&m.iC0||void 0;this.o8=m&&m.RAS||void 0;this.Df=m&&m.TyH||!1;this.Nf=void 0;this.H6=m&&m.Zh||
!1;this.D="";this.A=new OUh(m&&m.ofS);this.eU=Math.min(m&&m.VWH||1E3,1E3);this.Yf=new jIW;this.w0=m&&m.uJ0||!1;this.Xr=m&&m.BYf||!1;this.w0&&this.Xr&&(this.Xr=!1);this.El=m&&m.qIH||!1;m&&m.cYf&&(this.Ir=!1);this.HD=!this.w0&&this.Ir&&m&&m.wBH||!1;this.q8=void 0;m&&m.XR&&m.XR>0&&(this.q8=m.XR);this.pA=void 0;this.PD=0;this.Mf=!1;this.jz=this.Ae=null},vQ=function(m){m.Z&&(C1(m),m.Z.cancel(),m.Z=null)},JaG=function(m){vQ(m);
m.X&&(g.aC.clearTimeout(m.X),m.X=null);QP(m);m.A.cancel();m.U&&(typeof m.U==="number"&&g.aC.clearTimeout(m.U),m.U=null)},h$=function(m){hCz(m.A)||m.U||(m.U=!0,g.B3(m.ZP,m),m.Qt=0)},EeG=function(m,V){if(mn(m.A)>=m.A.D-(m.U?1:0))return!1;
if(m.U)return m.L=V.S.concat(m.L),!0;if(m.jt==1||m.jt==2||m.Qt>=(m.nC?0:m.xf))return!1;m.U=za((0,g.wc)(m.ZP,m,V),C1H(m,m.Qt));m.Qt++;return!0},MhA=function(m,V){var O;
V?O=V.lH:O=m.YN++;const h=m.g0.clone();g.jk(h,"SID",m.D);g.jk(h,"RID",O);g.jk(h,"AID",m.Te);EK(m,h);m.N&&m.V&&g.M7(h,m.N,m.V);O=new sI(m,m.D,O,m.Qt+1);m.N===null&&(O.g0=m.V);V&&(m.L=V.S.concat(m.L));V=qNH(m,O,m.eU);O.setTimeout(Math.round(m.Vp*.5)+Math.round(m.Vp*.5*Math.random()));OK(m.A,O);FP(O,h,V)},EK=function(m,V){m.ze&&g.RC(m.ze,function(O,h){g.jk(V,h,O)});
m.T&&g.RC({},function(O,h){g.jk(V,h,O)})},qNH=function(m,V,O){O=Math.min(m.L.length,O);
const h=m.T?(0,g.wc)(m.T.YH,m.T,m):null;a:{var w=m.L;let J=-1;for(;;){const C=["count="+O];J==-1?O>0?(J=w[0].Z,C.push("ofs="+J)):J=0:C.push("ofs="+J);let E=!0;for(let q=0;q<O;q++){var y=w[q].Z;const M=w[q].map;y-=J;if(y<0)J=Math.max(0,w[q].Z-100),E=!1;else try{y="req"+y+"_"||"";try{var L=M instanceof Map?M:Object.entries(M);for(const [f,x]of L){let U=x;g.PX(x)&&(U=g.X0(x));C.push(y+f+"="+encodeURIComponent(U))}}catch(f){throw C.push(y+"type="+encodeURIComponent("_badmap")),f;}}catch(f){h&&h(M)}}if(E){L=
C.join("&");break a}}L=void 0}m=m.L.splice(0,O);V.S=m;return L},Vh$=function(m){m.Z||m.X||(m.Sz=1,g.B3(m.Qr,m),m.S=0)},PQ=function(m){if(m.Z||m.X||m.S>=3)return!1;
m.Sz++;m.X=za((0,g.wc)(m.Qr,m),C1H(m,m.S));m.S++;return!0},C1=function(m){m.Ae!=null&&(g.aC.clearTimeout(m.Ae),m.Ae=null)},fkJ=function(m){m.Z=new sI(m,m.D,"rpc",m.Sz);
m.N===null&&(m.Z.g0=m.V);m.Z.Nf=0;var V=m.sU.clone();g.jk(V,"RID","rpc");g.jk(V,"SID",m.D);g.jk(V,"AID",m.Te);g.jk(V,"CI",m.UH?"0":"1");!m.UH&&m.q8&&g.jk(V,"TO",m.q8);g.jk(V,"TYPE","xmlhttp");EK(m,V);m.N&&m.V&&g.M7(V,m.N,m.V);m.Nf&&m.Z.setTimeout(m.Nf);var O=m.Z;m=m.lH;O.Te=1;O.X=jz(V.clone());O.V=null;O.mS=!0;aLa(O,m)},QP=function(m){m.Zu!=null&&(g.aC.clearTimeout(m.Zu),m.Zu=null)},vlc=function(m,V){var O=null;
if(m.Z==V){QP(m);C1(m);m.Z=null;var h=2}else if(lS(m.A,V))O=V.S,mhJ(m.A,V),h=1;else return;if(m.jt!=0)if(V.U)if(h==1){O=V.V?V.V.length:0;V=Date.now()-V.Qt;var w=m.Qt;h=Ip();h.dispatchEvent(new sdG(h,O,V,w));h$(m)}else Vh$(m);else{var y=V.pA;w=V.getLastError();if(w==3||w==0&&y>0||!(h==1&&EeG(m,V)||h==2&&PQ(m)))switch(O&&O.length>0&&(V=m.A,V.L=V.L.concat(O)),w){case 1:Ve(m,5);break;case 4:Ve(m,10);break;case 3:Ve(m,6);break;default:Ve(m,2)}}},C1H=function(m,V){let O=m.eb+Math.floor(Math.random()*m.He);
m.isActive()||(O*=2);return O*V},Ve=function(m,V){if(V==2){var O=(0,g.wc)(m.Dh,m),h=m.o8;
const w=!h;h=new g.vD(h||"//www.google.com/images/cleardot.gif");g.aC.location&&g.aC.location.protocol=="http"||g.PD(h,"https");jz(h);w?wFH(h.toString(),O):yaW(h.toString(),O)}else uS(2);m.jt=0;m.T&&m.T.AQ(V);xhZ(m);JaG(m)},xhZ=function(m){m.jt=0;
m.jz=[];if(m.T){const V=ye(m.A);if(V.length!=0||m.L.length!=0)g.bz(m.jz,V),g.bz(m.jz,m.L),m.A.L.length=0,g.NA(m.L),m.L.length=0;m.T.uA()}},RC$=function(m){if(m.jt==0)return m.jz;
let V=[];g.bz(V,ye(m.A));g.bz(V,m.L);return V},PAn=function(m,V,O){var h=g.HX(O);
h.Z!=""?(V&&g.mP(h,V+"."+h.Z),g.VC(h,h.L)):(h=g.aC.location,h=LEc(h.protocol,V?V+"."+h.hostname:h.hostname,+h.port,O));V=m.mS;O=m.Ug;V&&O&&g.jk(h,V,O);g.jk(h,"VER",m.R5);EK(m,h);return h},iTz=function(m,V,O){if(V&&!m.H6)throw Error("Can't create secondary domain capable XhrIo object.");
V=m.Df&&!m.L4?new g.r_(new g.GO({wL:O})):new g.r_(m.L4);V.N=m.H6;return V},oe5=function(){},geh=function(){},Mu=function(m,V){g.c3.call(this);
this.Z=new LMJ(V);this.U=m;this.A=V&&V.bO||null;m=V&&V.rr||null;V&&V.Mbz&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"});this.Z.V=m;m=V&&V.o2t||null;V&&V.BK&&(m?m["X-WebChannel-Content-Type"]=V.BK:m={"X-WebChannel-Content-Type":V.BK});V&&V.Hb&&(m?m["X-WebChannel-Client-Profile"]=V.Hb:m={"X-WebChannel-Client-Profile":V.Hb});this.Z.xN=m;(m=V&&V.kBr)&&!g.dZ(m)&&(this.Z.N=m);this.N=V&&V.Zh||!1;this.T=V&&V.eA6||!1;(V=V&&V.CJ)&&!g.dZ(V)&&(this.Z.mS=V,g.Vg(this.A,V)&&(m=this.A,
V in m&&delete m[V]));this.L=new qu(this)},AaI=function(m){n0.call(this);
m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);const V=m.__sm__;V?this.data=(this.Z=g.lz(V))?g.L9(V,this.Z):V:this.data=m},UhW=function(m){Sz.call(this);
this.status=1;this.errorCode=m},qu=function(m){this.Z=m},f1=function(m,V){this.D=m;
this.Z=V},xf=function(m,V){if(typeof m!=="function")throw Error("Fn must not be null and must be a function");
return g.aC.setTimeout(function(){m()},V)},of=function(){Rf.dispatchEvent(new dhH)},gW=function(m,V,O,h){this.Z=m;
this.D=V;this.N=O;this.U=h||1;this.A=45E3;this.L=new g.fe(this);this.T=new g.Eg;this.T.setInterval(250)},KMJ=function(m,V,O){m.TT=1;
m.La=jz(V.clone());m.H8=O;m.mS=!0;thn(m,null)},A$=function(m,V,O,h,w){m.TT=1;
m.La=jz(V.clone());m.H8=null;m.mS=O;w&&(m.gL=!1);thn(m,h)},thn=function(m,V){m.zW=Date.now();
UK(m);m.zT=m.La.clone();L0(m.zT,"t",m.U);m.gt=0;m.Gf=m.Z.MA(m.Z.TW()?V:null);m.FS>0&&(m.I9=new g.mj((0,g.wc)(m.L7,m,m.Gf),m.FS));m.L.listen(m.Gf,"readystatechange",m.Mt);V=m.KV?g.Em(m.KV):{};m.H8?(m.iW="POST",V["Content-Type"]="application/x-www-form-urlencoded",m.Gf.send(m.zT,m.iW,m.H8,V)):(m.iW="GET",m.gL&&!g.g4&&(V.Connection="close"),m.Gf.send(m.zT,m.iW,null,V));m.Z.h_(1)},XF5=function(m,V){var O=m.gt,h=V.indexOf("\n",O);
if(h==-1)return dW;O=Number(V.substring(O,h));if(isNaN(O))return WMH;h+=1;if(h+O>V.length)return dW;V=V.slice(h,h+O);m.gt=h+O;return V},UK=function(m){m.Y3=Date.now()+m.A;
HUG(m,m.A)},HUG=function(m,V){if(m.bG!=null)throw Error("WatchDog timer not null");
m.bG=xf((0,g.wc)(m.kH,m),V)},Tvz=function(m){m.bG&&(g.aC.clearTimeout(m.bG),m.bG=null)},t$=function(m){m.Z.wH()||m.Di||m.Z.tP(m)},K1=function(m){Tvz(m);
g.jh(m.I9);m.I9=null;m.T.stop();m.L.removeAll();if(m.Gf){const V=m.Gf;m.Gf=null;V.abort();V.dispose()}m.zi&&(m.zi=null)},$hh=function(m,V){try{m.Z.DP(m,V),m.Z.h_(4)}catch(O){}},kiJ=function(m,V,O,h,w){if(h==0)O(!1);
else{var y=w||0;h--;YNH(m,V,function(L){L?O(!0):g.aC.setTimeout(function(){kiJ(m,V,O,h,y)},y)})}},YNH=function(m,V,O){const h=new Image;
h.onload=function(){try{W4(h),O(!0)}catch(w){}};
h.onerror=function(){try{W4(h),O(!1)}catch(w){}};
h.onabort=function(){try{W4(h),O(!1)}catch(w){}};
h.ontimeout=function(){try{W4(h),O(!1)}catch(w){}};
g.aC.setTimeout(function(){if(h.ontimeout)h.ontimeout()},V);
h.src=m},W4=function(m){m.onload=null;
m.onerror=null;m.onabort=null;m.ontimeout=null},ra$=function(m){this.Z=m;
this.A=new L1},ca5=function(m){const V=XF(m.Z,m.e4,"/mail/images/cleardot.gif");
jz(V);kiJ(V.toString(),5E3,(0,g.wc)(m.SQ,m),3,2E3);m.h_(1)},TT=function(m){var V=m.Z.U;
V!=null?(of(),V?(of(),H4(m.Z,m,!1)):(of(),H4(m.Z,m,!0))):(m.Ve=new gW(m),m.Ve.KV=m.oC,V=m.Z,V=XF(V,V.TW()?m.vk:null,m.NA),of(),L0(V,"TYPE","xmlhttp"),A$(m.Ve,V,!1,m.vk,!1))},$f=function(m,V,O){this.Z=1;
this.A=[];this.L=[];this.T=new L1;this.V=m||null;this.U=V!=null?V:null;this.X=O||!1},Dhz=function(m,V){this.Z=m;
this.map=V;this.context=null},NvM=function(m,V,O,h){g.qO.call(this,"timingevent",m);
this.size=V;this.rtt=O;this.retries=h},bU$=function(m){g.qO.call(this,"serverreachability",m)},nea=function(m){m.oO(1,0);
m.GT=XF(m,null,m.eC);Yf(m)},SNz=function(m){m.DX&&(m.DX.abort(),m.DX=null);
m.QC&&(m.QC.cancel(),m.QC=null);m.A_&&(g.aC.clearTimeout(m.A_),m.A_=null);kf(m);m.i4&&(m.i4.cancel(),m.i4=null);m.xd&&(g.aC.clearTimeout(m.xd),m.xd=null)},rW=function(m,V){if(m.Z==0)throw Error("Invalid operation: sending map when state is closed");
m.A.push(new Dhz(m.PR++,V));m.Z!=2&&m.Z!=3||Yf(m)},IkI=function(m){let V=0;
m.QC&&V++;m.i4&&V++;return V},Yf=function(m){m.i4||m.xd||(m.xd=xf((0,g.wc)(m.gx,m),0),m.pM=0)},usa=function(m,V){if(m.Z==1){if(!V){m.vr=Math.floor(Math.random()*1E5);
V=m.vr++;const O=new gW(m,"",V);O.KV=m.pw;const h=c4(m),w=m.GT.clone();g.jk(w,"RID",V);g.jk(w,"CVER","1");D4(m,w);KMJ(O,w,h);m.i4=O;m.Z=2}}else m.Z==3&&(V?eC$(m,V):m.A.length==0||m.i4||eC$(m))},eC$=function(m,V){if(V)if(m.UX>6){m.A=m.L.concat(m.A);
m.L.length=0;var O=m.vr-1;V=c4(m)}else O=V.N,V=V.H8;else O=m.vr++,V=c4(m);const h=m.GT.clone();g.jk(h,"SID",m.D);g.jk(h,"RID",O);g.jk(h,"AID",m.CM);D4(m,h);O=new gW(m,m.D,O,m.pM+1);O.KV=m.pw;O.setTimeout(1E4+Math.round(1E4*Math.random()));m.i4=O;KMJ(O,h,V)},D4=function(m,V){m.VC&&(m=m.VC.Un())&&g.RC(m,function(O,h){g.jk(V,h,O)})},c4=function(m){const V=Math.min(m.A.length,1E3),O=["count="+V];
let h;m.UX>6&&V>0?(h=m.A[0].Z,O.push("ofs="+h)):h=0;for(let w=0;w<V;w++){let y=m.A[w].Z;const L=m.A[w].map;y=m.UX<=6?w:y-h;try{g.RC(L,function(J,C){O.push("req"+y+"_"+C+"="+encodeURIComponent(J))})}catch(J){O.push("req"+y+"_type="+encodeURIComponent("_badmap"))}}m.L=m.L.concat(m.A.splice(0,V));
return O.join("&")},zCJ=function(m){m.QC||m.A_||(m.N=1,m.A_=xf((0,g.wc)(m.iA,m),0),m.wb=0)},Nu=function(m){if(m.QC||m.A_||m.wb>=3)return!1;
m.N++;m.A_=xf((0,g.wc)(m.iA,m),ZUc(m,m.wb));m.wb++;return!0},H4=function(m,V,O){m.Vv=m.U==null?O:!m.U;
m.Jt=V.ZN;m.X||nea(m)},kf=function(m){m.qH!=null&&(g.aC.clearTimeout(m.qH),m.qH=null)},ZUc=function(m,V){let O=5E3+Math.floor(Math.random()*1E4);
m.isActive()||(O*=2);return O*V},bM=function(m,V){if(V==2||V==9){var O=null;
m.VC&&(O=null);var h=(0,g.wc)(m.LW,m);O||(O=new g.vD("//www.google.com/images/cleardot.gif"),jz(O));YNH(O.toString(),1E4,h)}else of();sIn(m,V)},sIn=function(m,V){m.Z=0;
m.VC&&m.VC.vn(V);FMJ(m);SNz(m)},FMJ=function(m){m.Z=0;
m.Jt=-1;if(m.VC)if(m.L.length==0&&m.A.length==0)m.VC.XS();else{const V=g.NA(m.L),O=g.NA(m.A);m.L.length=0;m.A.length=0;m.VC.XS(V,O)}},XF=function(m,V,O){let h=g.HX(O);
if(h.Z!="")V&&g.mP(h,V+"."+h.Z),g.VC(h,h.L);else{const w=window.location;h=LEc(w.protocol,V?V+"."+w.hostname:w.hostname,+w.port,O)}m.iM&&g.RC(m.iM,function(w,y){g.jk(h,y,w)});
g.jk(h,"VER",m.UX);D4(m,h);return h},akc=function(){},iU5=function(){this.Z=[];
this.A=[]},Gin=function(m,V){this.action=m;
this.params=V||{}},n1=function(m,V){g.Ja.call(this);
this.Z=new g.Vf(this.NZ,0,this);g.D(this,this.Z);this.ji=5E3;this.retryCount=this.wj=0;if(typeof m==="function")V&&(m=(0,g.wc)(m,V));else if(m&&typeof m.handleEvent==="function")m=(0,g.wc)(m.handleEvent,m);else throw Error("Invalid listener argument");this.A=m},Si=function(m,V,O=!1,h=()=>"",w=!1,y=!1,L=!1,J=()=>g.iL({}),C=!1,E,q=!1,M=!1,f=!1,x=!1,U,H){this.UH=m;
this.Qt=V;this.X=new g.NB;this.U=H;this.A=(this.L=!!U)?U(()=>{this.cZ()}):new n1(this.cZ,this);
this.Z=null;this.V=!1;this.S=null;this.mS="";this.Ae=this.Zu=0;this.D=[];this.lH=O;this.g0=h;this.N=y;this.H6=J;this.Te=E;this.FA=L;this.ze=null;this.T=g.iL();this.Ir=w;this.Sz=C;this.xN=q;this.pA=M;this.HD=f;this.jz=x;this.Xr=new pFG;this.YN=new Bv5;this.w0=new lkI;this.Mf=new QIa;this.Nf=new veA;this.PD=new P1z;this.q8=new mQa},V_I=function(m,V,O,h,w){If(m);
if(m.Z){const y=g.u("ID_TOKEN"),L=m.Z.pw||{};y?L["x-youtube-identity-token"]=y:delete L["x-youtube-identity-token"];m.Z.pw=L}ei(m);h?(h.getState()!=3&&IkI(h)==0||h.getState(),m.Z.connect(V,O,m.Qt,h.D,h.CM)):w?m.Z.connect(V,O,m.Qt,w.sessionId,w.arrayId):m.Z.connect(V,O,m.Qt);m.L&&!m.A.isActive()&&m.A.start();m.U&&m.U.ZCH()},yHc=function(m,V){return m.HD?!0:m.pA?Object.values(ObM).includes(V):m.xN?!Object.values(htG).includes(V):m.jz?Object.values(w65).includes(V):!1},jhn=async function(m){try{await uM(m)}finally{var V=
m.D;
m.D=[];var O=V;V=V.length;for(let h=0;h<V;++h)rW(m.Z,O[h]);zT(m);zT(m)}},zT=function(m){m.publish("handlerOpened");
m.Xr.Z("BROWSER_CHANNEL")},If=function(m){if(m.Z){const V=m.g0(),O=m.Z.pw||{};
V?O["x-youtube-lounge-xsrf-token"]=V:delete O["x-youtube-lounge-xsrf-token"];m.Z.pw=O}},uM=function(m){if(m.Sz)return g.iL();
if(!m.FA)return Loa(m);m.ze===null&&(m.ze=Loa(m));return m.ze},Loa=function(m){return g.P3(m.H6().then(V=>{JHc(m,V)}).jm(()=>{}),()=>{m.ze=null})},JHc=function(m,V){if(m.Z){let O=m.Z.pw||{};
V&&Object.keys(V).length>0?O={...O,...V}:delete O.Authorization;m.Z.pw=O}},ei=function(m){m.Te&&!m.N&&JHc(m,m.Te())},Z4=function(m){this.scheme="https";
this.port=this.domain="";this.Z="/api/lounge";this.A=!0;m=m||document.location.href;const V=Number(g.qf(m)[4]||null)||"";V&&(this.port=":"+V);this.domain=g.fT(m)||"";m=g.Tx();m.search("MSIE")>=0&&(m=m.match(/MSIE ([\d.]+)/)[1],g.Xp(m,"10.0")<0&&(this.A=!1))},sK=function(m,V){let O=m.Z;
m.A&&(O=m.scheme+"://"+m.domain+m.port+m.Z);return g.WV(O+V,{})},C8Z=function(m){g.dq(m.channel,"m",()=>{m.U=3;
m.L.reset();m.X=null;m.N=0;for(const V of m.S)m.channel&&m.channel.send(V);m.S=[];m.publish("webChannelOpened");m.g0.Z("WEB_CHANNEL")});
g.dq(m.channel,"n",()=>{m.U=0;m.L.isActive()||m.publish("webChannelClosed");const V=m.channel?.D().L();V&&(m.S=[...V]);m.Ae.Z("WEB_CHANNEL")});
g.dq(m.channel,"p",V=>{const O=V.data;O[0]==="gracefulReconnect"?(m.L.start(),m.channel&&m.channel.close()):m.publish("webChannelMessage",new Gin(O[0],O[1]));m.oF=V.statusCode;m.ze.Z("WEB_CHANNEL")});
g.dq(m.channel,"o",()=>{m.oF===401||m.L.start();m.publish("webChannelError");m.mS.Z("WEB_CHANNEL","")})},FF=function(m){const V=m.Qt();
V?m.D["x-youtube-lounge-xsrf-token"]=V:delete m.D["x-youtube-lounge-xsrf-token"]},feZ=function(m,V,O=()=>"",h,w){const y=()=>new Si(sK(m,"/bc"),V,!1,O,h);
return g.FX("enable_mdx_web_channel_desktop")?new ErG(()=>new qw5(sK(m,"/wc"),V,O)):new M_J(y,w)},grA=function(){var m=xQJ;
Rth();af.push(m);orc()},iM=function(m,V){Rth();
const O=AHa(m,String(V));af.length==0?UQA(O):(orc(),g.AG(af,function(h){h(O)}))},GT=function(m){iM("CP",m)},Rth=function(){af||(af=g.Gl("yt.mdx.remote.debug.handlers_")||[],g.ip("yt.mdx.remote.debug.handlers_",af))},UQA=function(m){const V=(p1+1)%50;
p1=V;B4[V]=m;lM||(lM=V==49)},orc=function(){var m=af;
if(B4[0]){var V=lM?p1:-1;do{V=(V+1)%50;const O=B4[V];g.AG(m,function(h){h(O)})}while(V!=p1);
B4=Array(50);p1=-1;lM=!1}},AHa=function(m,V){let O=(Date.now()-dQH)/1E3;
O.toFixed&&(O=O.toFixed(3));const h=[];h.push("[",O+"s","] ");h.push("[","yt.mdx.remote","] ");h.push(m+": "+V,"\n");return h.join("")},Qe=function(m){g.Vs.call(this);
this.U=m;this.screens=[]},t_h=function(m,V){const O=m.get(V.uuid)||m.get(V.id);
if(O)return m=O.name,O.id=V.id||O.id,O.name=V.name,O.token=V.token,O.uuid=V.uuid||O.uuid,O.name!=m;m.screens.push(V);return!0},Ko$=function(m,V){let O=m.screens.length!=V.length;
m.screens=g.UJ(m.screens,function(w){return!!UI(V,w)});
const h=V.length;for(let w=0;w<h;w++)O=t_h(m,V[w])||O;return O},Woh=function(m,V){const O=m.screens.length;
m.screens=g.UJ(m.screens,function(h){return!(h||V?!h!=!V?0:h.id==V.id:1)});
return m.screens.length<O},P4=function(m){Qe.call(this,"LocalScreenService");
this.A=m;this.Z=NaN;v4(this);this.info("Initializing with "+gf(this.screens))},X6n=function(m){if(m.screens.length){const V=g.dc(m.screens,function(h){return h.id}),O=sK(m.A,"/pairing/get_lounge_token_batch");
m.A.sendRequest("POST",O,{screen_ids:V.join(",")},(0,g.wc)(m.N5,m),(0,g.wc)(m.tG,m))}},v4=function(m){if(g.FX("deprecate_pair_servlet_enabled"))return Ko$(m,[]);
var V=glh(WEA());V=g.UJ(V,function(O){return!O.uuid});
return Ko$(m,V)},mI=function(m,V){HTH(g.dc(m.screens,RfA));
V&&XVM()},Vm=function(m){iM("OnlineScreenService",m)},O8=function(m){isNaN(m.L)||g.zN(m.L);
m.L=g.er((0,g.wc)(m.N,m),m.D>0&&m.D<g.j$()?2E4:1E4)},hA=function(m,V){a:if(Jy(V)!=Jy(m.Z))var O=!1;
else{O=g.mA(V);var h=O.length;for(let w=0;w<h;++w)if(!m.Z[O[w]]){O=!1;break a}O=!0}O||(Vm("Updated online screens: "+g.X0(m.Z)),m.Z=V,m.publish("screenChange"));Hba(m)},wl=function(m,V,O){const h=sK(m.T,"/pairing/get_screen_availability");
m.T.sendRequest("POST",h,{lounge_token:V.token},(0,g.wc)(function(w){w=w.screens||[];const y=w.length;for(let L=0;L<y;++L)if(w[L].loungeToken==V.token){O(w[L].status=="online");return}O(!1)},m),(0,g.wc)(function(){O(!1)},m))},Hba=function(m){m=g.mA(g.GZ(m.Z,function(V){return V}));
g.sJ(m);m.length?g.OL("yt-remote-online-screen-ids",m.join(","),60):g.wo("yt-remote-online-screen-ids")},TDM=function(m){const V={};
g.AG(m.U(),function(O){O.token?V[O.token]=O.id:this.D8("Requesting availability of screen w/o lounge token.")});
return V},ym=function(m,V=!1){Qe.call(this,"ScreenService");
this.D=m;this.N=V;this.Z=this.A=null;this.L=[];this.T={};$Qz(this)},kb5=function(m,V,O,h,w,y){m.info("getAutomaticScreenByIds "+O+" / "+V);
O||(O=m.T[V]);const L=m.dV();let J=O?df(L,O):null;O&&(m.N||J)||(J=df(L,V));if(J){J.uuid=V;const C=jT(m,J);wl(m.Z,C,function(E){w(E?C:null)})}else O?YwA(m,O,(0,g.wc)(function(C){const E=jT(this,new x$({name:h,
screenId:O,loungeToken:C,dialId:V||""}));wl(this.Z,E,function(q){w(q?E:null)})},m),y):w(null)},rHG=function(m,V){const O=m.screens.length;
for(let h=0;h<O;++h)if(m.screens[h].name==V)return m.screens[h];return null},cHW=function(m,V,O){wl(m.Z,V,O)},YwA=function(m,V,O,h){m.info("requestLoungeToken_ for "+V);
const w={postParams:{screen_ids:V},method:"POST",context:m,onSuccess:function(y,L){y=L&&L.screens||[];y[0]&&y[0].screenId==V?O(y[0].loungeToken):h(Error("Missing lounge token in token response"))},
onError:function(){h(Error("Request screen lounge token failed"))}};
g.lC(sK(m.D,"/pairing/get_lounge_token_batch"),w)},DQn=function(m){m.screens=m.A.dV();
var V=m.T;const O={};for(var h in V)O[V[h]]=h;V=m.screens.length;for(h=0;h<V;++h){const w=m.screens[h];w.uuid=O[w.id]||""}m.info("Updated manual screens: "+gf(m.screens))},$Qz=function(m){Lv(m);
m.A=new P4(m.D);m.A.subscribe("screenChange",(0,g.wc)(m.Ow,m));DQn(m);m.N||(m.L=glh(g.hc("yt-remote-automatic-screen-cache")||[]));Lv(m);m.info("Initializing automatic screens: "+gf(m.L));m.Z=new NDa(m.D,(0,g.wc)(m.dV,m,!0));m.Z.subscribe("screenChange",(0,g.wc)(function(){this.publish("onlineScreenChange")},m))},jT=function(m,V){var O=m.get(V.id);
O?(O.uuid=V.uuid,V=O):((O=df(m.L,V.uuid))?(O.id=V.id,O.token=V.token,V=O):m.L.push(V),m.N||bbH(m));Lv(m);m.T[V.uuid]=V.id;g.OL("yt-remote-device-id-map",m.T,31536E3);return V},bbH=function(m){m=g.UJ(m.L,V=>V.idType!="shortLived");
g.OL("yt-remote-automatic-screen-cache",g.dc(m,RfA))},Lv=function(m){m.T=g.hc("yt-remote-device-id-map")||{}},JA=function(m,V,O){g.Vs.call(this);
this.mS=O;this.D=m;this.A=V;this.Z=null},Cv=function(m,V){m.Z=V;
m.publish("sessionScreen",m.Z)},nrA=function(m,V){m.Z&&(m.Z.token=V,jT(m.D,m.Z));
m.publish("sessionScreen",m.Z)},E8=function(m,V){iM(m.mS,V)},IeJ=function(m,V){g.zN(m.Zu);
m.Zu=0;V?m.config_.enableCastLoungeToken&&V.loungeToken?V.deviceId?m.Z&&m.Z.uuid==V.deviceId||(V.loungeTokenRefreshIntervalMs?Swh(m,{name:m.A.friendlyName,screenId:V.screenId,loungeToken:V.loungeToken,dialId:V.deviceId,screenIdType:"shortLived"},V.loungeTokenRefreshIntervalMs):(g.oe(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(V)}.`)),qe(m,V.screenId))):(g.oe(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(V)}.`)),qe(m,V.screenId)):
qe(m,V.screenId):m.X8(Error("Waiting for session status timed out."))},etI=function(m){g.zN(m.V);
m.V=0;g.zN(m.N);m.N=0;g.zN(m.Zu);m.Zu=0;g.zN(m.T);m.T=0;g.zN(m.X);m.X=0},uRc=function(m,V){m.info("sendYoutubeMessage_: "+V+" "+g.X0());
const O={};O.type=V;m.L?m.L.sendMessage("urn:x-cast:com.google.youtube.mdx",O,()=>{},(0,g.wc)(function(){E8(this,"Failed to send message: "+V+".")},m)):E8(m,"Sending yt message without session: "+g.X0(O))},Zbh=function(m){uRc(m,"getLoungeToken");
g.zN(m.T);m.T=g.er(()=>{ztz(m,null)},3E4)},Me=function(m,V){g.zN(m.X);
m.X=0;V==0?Zbh(m):m.X=g.er(()=>{Zbh(m)},V)},ztz=function(m,V){g.zN(m.T);
m.T=0;let O=null;V?V.loungeToken?m.Z?.token==V.loungeToken&&(O="staleLoungeToken"):O="missingLoungeToken":O="noLoungeTokenResponse";O?(m.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(V)}, error: ${O}`),Me(m,3E4)):(nrA(m,V.loungeToken),Me(m,V.loungeTokenRefreshIntervalMs))},qe=function(m,V){V?(m.info("onConnectedScreenId_: Received screenId: "+V),m.Z&&m.Z.id==V||m.ze(V,O=>{Cv(m,O)},()=>m.X8(),5)):m.X8(Error("Waiting for session status timed out."))},shH=
function(m,V,O,h){g.zN(m.N);
m.N=0;cHW(m.D,V,w=>{w||h<0?O(w):m.N=g.er(()=>{shH(m,V,O,h-1)},300)})},Swh=function(m,V,O){m.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(V)}`);
const h=new x$(V);shH(m,h,w=>{w?(jT(m.D,h),Cv(m,h),Me(m,O)):(g.oe(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(V)} is not online.`)),m.X8())},5)},fv=function(m){return new Promise(V=>{m.Qt=Ay();
if(m.g0){const O=new chrome.cast.DialLaunchResponse(!0,Foz(m));V(O);aeh(m)}else m.S=()=>{g.zN(m.Zu);m.S=()=>{};
m.Zu=NaN;const O=new chrome.cast.DialLaunchResponse(!0,Foz(m));V(O);aeh(m)},m.Zu=g.er(()=>{m.S()},100)})},ib$=function(m){g.zN(m.N);
m.N=0;g.zN(m.X);m.X=0;m.T();m.T=()=>{};
g.zN(m.Zu)},xM=function(m){return!(!m.config_.enableDialLoungeToken||!m.L?.getDialAppInfo)},RD=function(m,V){m.info(`getDialAppInfoWithTimeout_ ${V}`);
xM(m)&&(g.zN(m.X),m.X=0,V==0?GbG(m):m.X=g.er(()=>{GbG(m)},V))},aeh=function(m){m.T=m.D.qM(m.Qt,m.A.label,m.A.friendlyName,xM(m),(V,O)=>{m.T=()=>{};
Cv(m,V);V.idType=="shortLived"&&O>0&&RD(m,O)},V=>{m.T=()=>{};
m.X8(V)})},Foz=function(m){var V={};
V.pairingCode=m.Qt;V.theme=m.Te;$fG()&&(V.env_useStageMdx=1);return g.KT(V)},p6n=function(m,V){const O=m.V.receiver.label,h=m.A.friendlyName;
return(new Promise(w=>{kb5(m.D,O,V,h,y=>{y&&y.token&&Cv(m,y);w(y)},y=>{E8(m,"Failed to get DIAL screen: "+y);
w(null)})})).then(w=>w&&w.token?new chrome.cast.DialLaunchResponse(!1):fv(m))},lea=function(m,V,O){m.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(V)}`);
const h=new x$(V);return(new Promise(w=>{BDW(m,h,y=>{y?(jT(m.D,h),Cv(m,h),RD(m,O)):g.oe(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(V)} is not online.`));w(y)},5)})).then(w=>w?new chrome.cast.DialLaunchResponse(!1):fv(m))},BDW=function(m,V,O,h){g.zN(m.N);
m.N=0;cHW(m.D,V,w=>{w||h<0?O(w):m.N=g.er(()=>{BDW(m,V,O,h-1)},300)})},GbG=function(m){xM(m)&&m.L.getDialAppInfo(V=>{m.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(V)}`);
V=V.extraData||{};let O=null;V.loungeToken?m.Z?.token==V.loungeToken&&(O="staleLoungeToken"):O="missingLoungeToken";O?RD(m,3E4):(nrA(m,V.loungeToken),RD(m,V.loungeTokenRefreshIntervalMs))},V=>{m.info(`getDialAppInfo error: ${V}`);
RD(m,3E4)})},xQJ=function(m){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(m)},vra=function(m){const V=m.A.yr();
let O=m.Z&&m.Z.A;m=g.dc(V,function(h){O&&Rp(h,O.label)&&(O=null);const w=h.uuid?h.uuid:h.id;let y=QhJ(this,h);y?(y.label=w,y.friendlyName=h.name):(y=new chrome.cast.Receiver(w,h.name),y.receiverType=chrome.cast.ReceiverType.CUSTOM);return y},m);
O&&(O.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(O=new chrome.cast.Receiver(O.label,O.friendlyName),O.receiverType=chrome.cast.ReceiverType.CUSTOM),m.push(O));return m},oD=function(m){return m.X||!!m.L.length||!!m.Z},gl=function(m){iM("Controller",m)},AA=function(m,V,O){V!=m.Z&&(g.jh(m.Z),(m.Z=V)?(O?m.publish("yt-remote-cast2-receiver-resumed",V.A):m.publish("yt-remote-cast2-receiver-selected",V.A),V.subscribe("sessionScreen",(0,g.wc)(m.Zu,m,V)),V.subscribe("sessionFailed",()=>P8J(m,V)),V.Z?
m.publish("yt-remote-cast2-session-change",V.Z):O&&m.Z.U(null)):m.publish("yt-remote-cast2-session-change",null))},QhJ=function(m,V){return V?g.HH(m.L,function(O){return Rp(V,O.label)},m):null},P8J=function(m,V){m.Z==V&&m.publish("yt-remote-cast2-session-failed")},yPW=function(m,V,O,h){h.disableCastApi?U8("Cannot initialize because disabled by Mdx config."):m1$()?VXI(V,h)&&(dl(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?OtA(m,O):(window.__onGCastApiAvailable=function(w,y){w?OtA(m,O):(tA("Failed to load cast API: "+
y),Kv(!1),dl(!1),g.wo("yt-remote-cast-available"),g.wo("yt-remote-cast-receiver"),hj5(),O(!1))},h.loadCastApiSetupScript?g.Ly(wUn):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?Y$()>=60&&bTJ():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?rf():Y$()>=89?Sk5():(cQ(),k$(nlM.map(cgh))))):U8("Cannot initialize because not running Chrome")},hj5=function(){U8("dispose");
const m=WR();m&&m.dispose();g.ip("yt.mdx.remote.cloudview.instance_",null);jbI(!1);g.yh(XH);XH.length=0},HR=function(){return!!g.hc("yt-remote-cast-installed")},L3z=function(){const m=g.hc("yt-remote-cast-receiver");
return m?m.friendlyName:null},JPn=function(){U8("clearCurrentReceiver");
g.wo("yt-remote-cast-receiver")},Cg5=function(){return HR()?WR()?WR().getCastSession():(tA("getCastSelector: Cast is not initialized."),null):(tA("getCastSelector: Cast API is not installed!"),null)},$M=function(){HR()?WR()?T2()?(U8("Requesting cast selector."),WR().requestSession()):(U8("Wait for cast API to be ready to request the session."),XH.push(g.wN("yt-remote-cast2-api-ready",$M))):tA("requestCastSelector: Cast is not initialized."):tA("requestCastSelector: Cast API is not installed!")},YM=
function(m,V){T2()?WR().setConnectedScreenStatus(m,V):tA("setConnectedScreenStatus called before ready.")},m1$=function(){var m=g.Tx().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.iI||m},ExG=function(m,V){WR().init(m,V)},VXI=function(m,V){let O=!1;
WR()||(m=new kM(m,V),m.subscribe("yt-remote-cast2-availability-change",function(h){g.OL("yt-remote-cast-available",h);$$("yt-remote-cast2-availability-change",h)}),m.subscribe("yt-remote-cast2-receiver-selected",function(h){U8("onReceiverSelected: "+h.friendlyName);
g.OL("yt-remote-cast-receiver",h);$$("yt-remote-cast2-receiver-selected",h)}),m.subscribe("yt-remote-cast2-receiver-resumed",function(h){U8("onReceiverResumed: "+h.friendlyName);
g.OL("yt-remote-cast-receiver",h);$$("yt-remote-cast2-receiver-resumed",h)}),m.subscribe("yt-remote-cast2-session-change",function(h){U8("onSessionChange: "+op(h));
h||g.wo("yt-remote-cast-receiver");$$("yt-remote-cast2-session-change",h)}),g.ip("yt.mdx.remote.cloudview.instance_",m),O=!0);
U8("cloudview.createSingleton_: "+O);return O},WR=function(){return g.Gl("yt.mdx.remote.cloudview.instance_")},OtA=function(m,V){Kv(!0);
dl(!1);ExG(m,function(O){O?(jbI(!0),g.jO("yt-remote-cast2-api-ready")):(tA("Failed to initialize cast API."),Kv(!1),g.wo("yt-remote-cast-available"),g.wo("yt-remote-cast-receiver"),hj5());V(O)})},U8=function(m){iM("cloudview",m)},tA=function(m){iM("cloudview",m)},Kv=function(m){U8("setCastInstalled_ "+m);
g.OL("yt-remote-cast-installed",m)},T2=function(){return!!g.Gl("yt.mdx.remote.cloudview.apiReady_")},jbI=function(m){U8("setApiReady_ "+m);
g.ip("yt.mdx.remote.cloudview.apiReady_",m)},dl=function(m){g.ip("yt.mdx.remote.cloudview.initializing_",m)},rl=function(m){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.T=this.U=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.L=this.N=this.A=0;this.Z=NaN;this.D=!1;this.reset(m)},cR=function(m){m.audioTrackId=null;
m.trackData=null;m.playerState=-1;m.hasPrevious=!1;m.hasNext=!1;m.U=0;m.T=g.j$();m.A=0;m.N=0;m.L=0;m.loadedTime=0;m.Z=NaN;m.D=!1},Dd=function(m){return m.isPlaying()?(g.j$()-m.T)/1E3:0},Ne=function(m,V){m.U=V;
m.T=g.j$()},bH=function(m){switch(m.playerState){case 1:case 1081:return(g.j$()-m.T)/1E3+m.U;
case -1E3:return 0}return m.U},q7Z=function(m){return m.D?m.N+Dd(m):m.N},nv=function(m,V,O){const h=m.videoId;
m.videoId=V;m.index=O;V!=h&&cR(m)},ST=function(m){const V={};
V.index=m.index;V.listId=m.listId;V.videoId=m.videoId;V.playerState=m.playerState;V.volume=m.volume;V.muted=m.muted;V.audioTrackId=m.audioTrackId;V.trackData=g.q5(m.trackData);V.hasPrevious=m.hasPrevious;V.hasNext=m.hasNext;V.playerTime=m.U;V.playerTimeAt=m.T;V.seekableStart=m.A;V.seekableEnd=m.N;V.duration=m.L;V.loadedTime=m.loadedTime;V.liveIngestionTime=m.Z;return V},MXa=function(m){g.AG("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(V){this.N.push(this.D.subscribe(V,g.yW(this.H6,V),this))},m)},ID=function(m,V){m.A&&(m.A.removeUpdateListener(m.S),m.A.removeMediaListener(m.V),m.U(null));
m.A=V;m.A&&(GT("Setting cast session: "+m.A.sessionId),m.A.addUpdateListener(m.S),m.A.addMediaListener(m.V),m.A.media.length&&m.U(m.A.media[0]))},eT=function(m){return new rl(m.D.getPlayerContextData())},uH=function(m){return m.getState()==1},Zd=function(m,V,O){return(0,g.wc)(function(h){this.D8("Failed to "+V+" with cast v2 channel. Error code: "+h.code);
h.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.D8("Retrying "+V+" using MDx browser channel."),z2(this,V,O))},m)},z2=function(m,V,O){m.D.sendMessage(V,O)},FH=function(m,V,O){const h=eT(m);
Ne(h,O);h.playerState!=-1E3&&(h.playerState=V);s8(m,h)},aD=function(m,V){var O=m.T;
O.Z.length+O.A.length<50&&m.T.enqueue(V)},s8=function(m,V){fA5(m);
m.D.setPlayerContextData(ST(V));MXa(m)},fA5=function(m){g.AG(m.N,function(V){this.D.unsubscribeByKey(V)},m);
m.N.length=0},x1$=function(m){const V=m.Z.media,O=m.Z.customData;
if(V&&O){var h=eT(m);V.contentId!=h.videoId&&GT("Cast changing video to: "+V.contentId);h.videoId=V.contentId;h.playerState=O.playerState;Ne(h,m.Z.getEstimatedTime());s8(m,h)}else GT("No cast media video. Ignoring state update.")},Rj$=function(m){iH("Channel opened");
m.ze&&(m.ze=!1,G2(m),m.mS=g.er(()=>{iH("Timing out waiting for a screen.");m.N(1)},15E3))},$1A=function(m,V){V=V.message;
V.params?iH("Received: action="+V.action+", params="+g.X0(V.params)):iH("Received: action="+V.action+" {}");switch(V.action){case "loungeStatus":V=C0(V.params.devices);m.L=g.dc(V,function(h){return new f0(h)});
V=!!g.HH(m.L,function(h){return h.type=="LOUNGE_SCREEN"});
oxh(m,V);V=m.YN("mlm");m.publish("multiStateLoopEnabled",V);break;case "loungeScreenDisconnected":g.cH(m.L,function(h){return h.type=="LOUNGE_SCREEN"});
oxh(m,!1);break;case "remoteConnected":let O=new f0(C0(V.params.device));g.HH(m.L,function(h){return h.equals(O)})||ygJ(m.L,O);
break;case "remoteDisconnected":O=new f0(C0(V.params.device));g.cH(m.L,function(h){return h.equals(O)});
break;case "gracefulDisconnect":break;case "playlistModified":gx5(m,V,"QUEUE_MODIFIED");break;case "nowPlaying":API(m,V);break;case "onStateChange":U1A(m,V);break;case "onAdStateChange":d1I(m,V);break;case "onVolumeChanged":tX$(m,V);break;case "onSubtitlesTrackChanged":K3$(m,V);break;case "nowAutoplaying":W3H(m,V);break;case "autoplayDismissed":m.publish("autoplayDismissed");break;case "autoplayUpNext":XUa(m,V);break;case "onAutoplayModeChanged":Ht$(m,V);break;case "onHasPreviousNextChanged":TwA(m,
V);break;case "requestAssistedSignIn":m.publish("assistedSignInRequested",V.params.authCode);break;case "onLoopModeChanged":m.publish("loopModeChange",V.params.loopMode);break;default:iH("Unrecognized action: "+V.action)}},iH=function(m){iM("conn",m)},Y7A=function(m){m.U=g.er(()=>{iH("Connecting timeout");
m.N(1)},2E4)},pv=function(m,V){m.publish("proxyStateChange",V)},BR=function(m){g.zN(m.U);
m.U=NaN},lH=function(m){g.zN(m.Ae);
m.Ae=NaN},G2=function(m){g.zN(m.mS);
m.mS=NaN},k0W=function(m){return g.HH(m.L,function(V){return V.type=="LOUNGE_SCREEN"})},Qm=function(m,V,O){O?iH("Sending: action="+V+", params="+g.X0(O)):iH("Sending: action="+V);
m.A.sendMessage(V,O)},rPh=function(m){lH(m);
m.Ae=g.er(()=>{Qm(m,"getNowPlaying")},2E4)},cPZ=function(m){g.zN(m.S);
m.S=g.er(()=>{m.N(1)},864E5)},oxh=function(m,V){var O=null;
if(V){const h=k0W(m);h&&(O={clientName:h.clientName,deviceMake:h.brand,deviceModel:h.model,osVersion:h.osVersion})}g.ip("yt.mdx.remote.remoteClient_",O);V&&(BR(m),G2(m));O=m.A.LS()&&isNaN(m.U);V==O?V&&(pv(m,1),Qm(m,"getSubtitlesTrack")):V?(m.UH()&&m.Z.reset(),pv(m,1),Qm(m,"getNowPlaying"),cPZ(m)):m.N(1)},K3$=function(m,V){const O=V.params.videoId;
delete V.params.videoId;O==m.Z.videoId&&(g.yg(V.params)?m.Z.trackData=null:m.Z.trackData=V.params,m.publish("remotePlayerChange"))},gx5=function(m,V,O){const h=V.params.videoId||V.params.video_id,w=parseInt(V.params.currentIndex,10);
m.Z.listId=V.params.listId||m.Z.listId;nv(m.Z,h,w);m.publish("remoteQueueChange",O)},U1A=function(m,V){var O=parseInt(V.params.currentTime||V.params.current_time,10);
Ne(m.Z,isNaN(O)?0:O);O=parseInt(V.params.state,10);O=isNaN(O)?-1:O;O==-1&&m.Z.playerState==-1E3&&(O=-1E3);m.Z.playerState=O;O=Number(V.params.loadedTime);m.Z.loadedTime=isNaN(O)?0:O;m.Z.Ph(Number(V.params.duration));O=m.Z;var h=Number(V.params.liveIngestionTime);O.Z=h;O.D=isNaN(h)?!1:!0;O=m.Z;h=Number(V.params.seekableStartTime);V=Number(V.params.seekableEndTime);O.A=isNaN(h)?0:h;O.N=isNaN(V)?0:V;m.Z.playerState==1?rPh(m):lH(m);m.publish("remotePlayerChange")},API=function(m,V){V.params=V.params||
{};
gx5(m,V,"NOW_PLAYING_MAY_CHANGE");U1A(m,V);m.publish("autoplayDismissed")},d1I=function(m,V){if(m.Z.playerState!=-1E3){var O=1085;
switch(parseInt(V.params.adState,10)){case 1:O=1081;break;case 2:O=1084;break;case 0:O=1083}m.Z.playerState=O;V=parseInt(V.params.currentTime,10);Ne(m.Z,isNaN(V)?0:V);m.publish("remotePlayerChange")}},tX$=function(m,V){const O=V.params.muted=="true";
m.Z.volume=parseInt(V.params.volume,10);m.Z.muted=O;m.publish("remotePlayerChange")},W3H=function(m,V){m.X=V.params.videoId;
m.publish("nowAutoplaying",parseInt(V.params.timeout,10))},XUa=function(m,V){m.X=V.params.videoId||null;
m.publish("autoplayUpNext",m.X)},Ht$=function(m,V){m.T=V.params.autoplayMode;
m.publish("autoplayModeChange",m.T);m.T=="DISABLED"&&m.publish("autoplayDismissed")},TwA=function(m,V){const O=V.params.hasNext=="true";
m.Z.hasPrevious=V.params.hasPrevious=="true";m.Z.hasNext=O;m.publish("previousNextChange")},nxA=function(m,V){TjA();
if(!Ta||!Ta.get("yt-remote-disable-remote-module-for-dev")){V=g.u("MDX_CONFIG")||V;UfH();XP();vR||(vR=new Z4(V?V.loungeApiHost:void 0),$fG()&&(vR.Z="/api/loungedev"));PR||(PR=g.Gl("yt.mdx.remote.deferredProxies_")||[],g.ip("yt.mdx.remote.deferredProxies_",PR));D15();var O=mX();if(!O){const w=new ym(vR,V?V.disableAutomaticScreenCache||!1:!1);g.ip("yt.mdx.remote.screenService_",w);O=mX();var h={};V&&(h={appId:V.appId,disableDial:V.disableDial,theme:V.theme,loadCastApiSetupScript:V.loadCastApiSetupScript,
disableCastApi:V.disableCastApi,enableDialLoungeToken:V.enableDialLoungeToken,enableCastLoungeToken:V.enableCastLoungeToken,forceMirroring:V.forceMirroring});g.ip("yt.mdx.remote.enableConnectWithInitialState_",V?V.enableConnectWithInitialState||!1:!1);yPW(m,w,function(y){y?Vo()&&YM(Vo(),"YouTube TV"):w.subscribe("onlineScreenChange",function(){$$("yt-remote-receiver-availability-change")})},h)}V&&!g.Gl("yt.mdx.remote.initialized_")&&(g.ip("yt.mdx.remote.initialized_",!0),O1("Initializing: "+g.X0(V)),
he.push(g.wN("yt-remote-cast2-api-ready",function(){$$("yt-remote-api-ready")})),he.push(g.wN("yt-remote-cast2-availability-change",function(){$$("yt-remote-receiver-availability-change")})),he.push(g.wN("yt-remote-cast2-receiver-selected",function(){wn(null);
$$("yt-remote-auto-connect","cast-selector-receiver")})),he.push(g.wN("yt-remote-cast2-receiver-resumed",function(){$$("yt-remote-receiver-resumed","cast-selector-receiver")})),he.push(g.wN("yt-remote-cast2-session-change",NwW)),he.push(g.wN("yt-remote-connection-change",function(w){w?YM(Vo(),"YouTube TV"):yo()||(YM(null,null),JPn())})),he.push(g.wN("yt-remote-cast2-session-failed",()=>{$$("yt-remote-connection-failed")})),m=jK(),V.isAuto&&(m.id+="#dial"),h=V.capabilities||[],h.length>0&&(m.capabilities=
h),m.name=V.device,m.app=V.app,(V=V.theme)&&(m.theme=V),O1(" -- with channel params: "+g.X0(m)),m?(g.OL("yt-remote-session-app",m.app),g.OL("yt-remote-session-name",m.name)):(g.wo("yt-remote-session-app"),g.wo("yt-remote-session-name")),g.ip("yt.mdx.remote.channelParams_",m),O.start(),Vo()||bta())}},S7W=function(){var m=mX().zM.$_gos();
const V=Lg();V&&Je()&&(UI(m,V)||m.push(V));return AgA(m)},Cg=function(){let m=IAh();
!m&&HR()&&L3z()&&(m={key:"cast-selector-receiver",name:L3z()});return m},IAh=function(){const m=S7W();
let V=Lg();V||(V=yo());return g.HH(m,function(O){return V&&Rp(V,O.key)?!0:!1})},Lg=function(){const m=Vo();
if(!m)return null;const V=mX().dV();return df(V,m)},NwW=function(m){O1("remote.onCastSessionChange_: "+op(m));
if(m){var V=Lg();if(V&&V.id==m.id){if(YM(V.id,"YouTube TV"),m.idType=="shortLived"&&(m=m.token))E1&&(E1.token=m),(V=Je())&&V.Er(m)}else V&&qd(),Md(m,1)}else Je()&&qd()},qd=function(){T2()?WR().stopSession():tA("stopSession called before API ready.");
const m=Je();m&&(m.disconnect(1),fg(null))},xt=function(){const m=Je();
return!!m&&m.getProxyState()!=3},O1=function(m){iM("remote",m)},mX=function(){if(!RN){const m=g.Gl("yt.mdx.remote.screenService_");
RN=m?new ejJ(m):null}return RN},Vo=function(){return g.Gl("yt.mdx.remote.currentScreenId_")},uJc=function(m){g.ip("yt.mdx.remote.currentScreenId_",m)},zjM=function(){return g.Gl("yt.mdx.remote.connectData_")},wn=function(m){g.ip("yt.mdx.remote.connectData_",m)},Je=function(){return g.Gl("yt.mdx.remote.connection_")},fg=function(m){const V=Je();
wn(null);m||uJc("");g.ip("yt.mdx.remote.connection_",m);PR&&(g.AG(PR,function(O){O(m)}),PR.length=0);
V&&!m?$$("yt-remote-connection-change",!1):!V&&m&&$$("yt-remote-connection-change",!0)},yo=function(){const m=g.y4();
if(!m)return null;var V=mX();if(!V)return null;V=V.dV();return df(V,m)},Md=function(m,V){Vo();
Lg()&&Lg();if(oN)E1=m;else{uJc(m.id);var O=g.Gl("yt.mdx.remote.enableConnectWithInitialState_")||!1;m=new gn(m,O);m.connect(V,zjM());m.subscribe("beforeDisconnect",function(h){$$("yt-remote-before-disconnect",h)});
m.subscribe("beforeDispose",function(){Je()&&(Je(),fg(null))});
m.subscribe("browserChannelAuthError",()=>{const h=Lg();h&&h.idType=="shortLived"&&(T2()?WR().handleBrowserChannelAuthError():tA("refreshLoungeToken called before API ready."))});
fg(m)}},bta=function(){const m=yo();
m?(O1("Resume connection to: "+op(m)),Md(m,0)):(HQ(),JPn(),O1("Skipping connecting because no session screen found."))},D15=function(){var m=jK();
if(g.yg(m)){m=WQ();var V=g.hc("yt-remote-session-name")||"";const O=g.hc("yt-remote-session-app")||"";m={device:"REMOTE_CONTROL",id:m,name:V,app:O,mdxVersion:3};m.authuser=String(g.u("SESSION_INDEX","0"));(V=g.u("DELEGATED_SESSION_ID"))&&(m.pageId=String(V));g.ip("yt.mdx.remote.channelParams_",m)}},jK=function(){return g.Gl("yt.mdx.remote.channelParams_")||{}},ZtH=function(m,V){if(Ae(m)){m.Zf.unsubscribe("remotePlayerChange",m.T,m);
const O=Math.round(V.volume);V=!!V.muted;const h=eT(m.Zf);if(O!==h.volume||V!==h.muted)m.Zf.setVolume(O,V),m.S.start();m.Zf.subscribe("remotePlayerChange",m.T,m)}},Ae=function(m){return eT(m.Zf).videoId===m.K.getVideoData(1).videoId},U1=function(m,V){let O,h;
var w=m.K.getPlaylist();w?.listId&&(O=w.index,h=w.listId.toString());w=m.K.getVideoData(1);m.Zf.playVideo(w.videoId,V,O,h,w.playerParams,w.Qt,wVH(w));m.ma(new g.z8(1))},dn=function(m,V){if(Ae(m)&&!m.U){let O=null;
V&&(O={style:m.K.getSubtitlesUserSettings()},Object.assign(O,V));m.Zf.X(m.K.getVideoData(1).videoId,O);m.D=eT(m.Zf).trackData}},sbc=function(m,V){if(V){const O=m.K.getOption("captions","tracklist",{lY:1});
O&&O.length?(m.K.setOption("captions","track",V),m.U=!1):(m.K.loadModule("captions"),m.U=!0)}else m.K.setOption("captions","track",{})},F3Z=function(m){m.PB(0);
m.A.stop();m.ma(new g.z8(64))},aAJ=function(m){const V=m.player.B();
return!V.Y("mdx_enable_privacy_disclosure_ui")||m.isLoggedIn()||m.vS||!m.mW?!1:g.vK(V)||g.VA(V)},itz=function(m,V,O){m.p6=O;
m.player.publish("presentingplayerstatechange",new g.QH(O,V))},te=function(m,V,...O){m.loaded&&m.PP.LR(V,...O)},Kg=function(m){m.zS&&(m.player.removeEventListener("presentingplayerstatechange",m.zS),m.zS=null)},Wa=function(m,V){if(V.key!==m.zD.key)if(V.key===m.vM.key)qd();
else if(aAJ(m)&&G0W(m),m.zD=V,!g.Fo(m.player.B())){{const y=m.player.getPlaylistId();var O=m.player.getVideoData(1);const L=O.videoId;if(!y&&!L||(m.player.getAppState()===2||m.player.getAppState()===1)&&m.player.B().Y("should_clear_video_data_on_player_cued_unstarted"))O=null;else{var h=m.player.getPlaylist();if(h){var w=[];for(let J=0;J<h.length;J++)w[J]=g.qj(h,J).videoId}else w=[L];h=m.player.getCurrentTime(1);m={videoIds:w,listId:y,videoId:L,playerParams:O.playerParams,clickTrackingParams:O.Qt,
index:Math.max(m.player.getPlaylistIndex(),0),currentTime:h===0?void 0:h};(O=wVH(O))&&(m.locationInfo=O);O=m}}O1("Connecting to: "+g.X0(V));V.key=="cast-selector-receiver"?(wn(O||null),V=O||null,T2()?WR().setLaunchParams(V):tA("setLaunchParams called before ready.")):!O&&xt()&&Vo()==V.key?$$("yt-remote-connection-change",!0):(qd(),wn(O||null),O=mX().dV(),(V=df(O,V.key))&&Md(V,1))}},G0W=function(m){m.player.getPlayerStateObject().isPlaying()?m.player.pauseVideo():(m.zS=V=>{!m.vS&&V.Z4(8)&&(m.player.pauseVideo(),
Kg(m))},m.player.addEventListener("presentingplayerstatechange",m.zS));
m.mW&&m.mW.b2();Je()||(oN=!0)};
g.QV.prototype.JK=g.D1(46,function(){this.app.LC().JK()});
g.cx.prototype.JK=g.D1(45,function(){this.dM=null});
g.QV.prototype.Qy=g.D1(44,function(m){this.app.LC().Qy(m)});
g.cx.prototype.Qy=g.D1(43,function(m){this.dM=m});
g.FO.prototype.xV=g.D1(1,function(){return g.fx(this,3)});
g.wr.prototype.xV=g.D1(0,function(){return g.fx(this,11)});
var pFG=class{constructor(){var m=g.GM();this.A=m;g.ow(m,"/client_streamz/youtube/living_room/mdx/channel/opened",g.cU("channel_type"))}Z(m){g.AK(this.A,"/client_streamz/youtube/living_room/mdx/channel/opened",m)}},Bv5=class{constructor(){var m=g.GM();this.A=m;g.ow(m,"/client_streamz/youtube/living_room/mdx/channel/closed",g.cU("channel_type"))}Z(m){g.AK(this.A,"/client_streamz/youtube/living_room/mdx/channel/closed",m)}},QIa=class{constructor(){var m=g.GM();this.A=m;g.ow(m,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.cU("channel_type"))}Z(m){g.AK(this.A,"/client_streamz/youtube/living_room/mdx/channel/message_received",m)}},lkI=class{constructor(){var m=g.GM();this.A=m;g.ow(m,"/client_streamz/youtube/living_room/mdx/channel/success")}Z(){g.AK(this.A,"/client_streamz/youtube/living_room/mdx/channel/success")}},veA=class{constructor(){var m=g.GM();this.A=m;g.ow(m,"/client_streamz/youtube/living_room/mdx/channel/error",g.cU("channel_type"),g.cU("error_type"))}Z(m,V){g.AK(this.A,"/client_streamz/youtube/living_room/mdx/channel/error",
m,V)}},P1z=class{constructor(){var m=g.GM();this.A=m;g.ow(m,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}Z(){g.AK(this.A,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},mQa=class{constructor(){var m=g.GM();this.A=m;g.ow(m,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}Z(){g.AK(this.A,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.X=q4.prototype;
g.X.d4=function(){M4(this);const m=[];for(let V=0;V<this.Z.length;V++)m.push(this.A[this.Z[V]]);return m};
g.X.cM=function(){M4(this);return this.Z.concat()};
g.X.has=function(m){return EI(this.A,m)};
g.X.equals=function(m,V){if(this===m)return!0;if(this.size!=m.size)return!1;V=V||CAZ;M4(this);let O;for(let h=0;O=this.Z[h];h++)if(!V(this.get(O),m.get(O)))return!1;return!0};
g.X.isEmpty=function(){return this.size==0};
g.X.clear=function(){this.A={};this.LV=this.size=this.Z.length=0};
g.X.remove=function(m){return this.delete(m)};
g.X.delete=function(m){return EI(this.A,m)?(delete this.A[m],--this.size,this.LV++,this.Z.length>2*this.size&&M4(this),!0):!1};
g.X.get=function(m,V){return EI(this.A,m)?this.A[m]:V};
g.X.set=function(m,V){EI(this.A,m)||(this.size+=1,this.Z.push(m),this.LV++);this.A[m]=V};
g.X.forEach=function(m,V){const O=this.cM();for(let h=0;h<O.length;h++){const w=O[h],y=this.get(w);m.call(V,y,w,this)}};
g.X.clone=function(){return new q4(this)};
g.X.keys=function(){return g.H7(this.Bh(!0)).Z()};
g.X.values=function(){return g.H7(this.Bh(!1)).Z()};
g.X.entries=function(){const m=this;return JgJ(this.keys(),function(V){return[V,m.get(V)]})};
g.X.Bh=function(m){M4(this);let V=0;const O=this.LV,h=this,w=new g.Ti;w.next=function(){if(O!=h.LV)throw Error("The map has changed since the iterator was created");if(V>=h.Z.length)return g.ND;const y=h.Z[V++];return g.$e(m?y:h.A[y])};
return w};
var fLn={nO:"atp",eru:"ska",Rre:"que",OP:"mus",N0S:"sus",xk:"dsp",GeN:"seq",Y1:"mic",Ri:"dpa",eS:"mlm",Wq:"dsdtr",jS:"ntb",EDt:"vsp",iZ:"scn",ZAr:"rpe",jZ:"dcn",VO:"dcp",TN:"pas",SZ:"drq",Qg:"opf",Tc:"els",zc:"isg",qHu:"svq",X4:"mvp",jq:"ads",CHr:"stcp",fuN:"sads",nh:"dloc",ZK:"dcw",nW:"asw",VM:"apw",Sq:"wrc",PV:"pcw",Cl:"ipv",hA:"ndt",Mh:"ctops"},xfa={yjt:"u",Kh:"cl",Sg:"k",Kl:"i",Oq:"cr",sP:"m",oi:"g",zz:"up"},ObM={VE:"adPlaying",jE:"onAdStateChange"},htG={SS:"nowPlaying",uV:"onStateChange",VE:"adPlaying",
jE:"onAdStateChange",BR:"nowPlayingShorts",Vb:"onShortsStateChange"},w65={BR:"nowPlayingShorts",Vb:"onShortsStateChange"};f0.prototype.equals=function(m){return m?this.id==m.id:!1};
var K0="",Ta=null,Nj5=Yka("loadCastFramework")||Yka("loadCastApplicationFramework"),nlM=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.qA(D9,g.Ja);g.X=D9.prototype;g.X.yb=function(m){this.D=arguments;this.Z=!1;this.BB?this.L=g.j$()+this.ji:this.BB=g.qX(this.T,this.ji)};
g.X.stop=function(){this.BB&&(g.aC.clearTimeout(this.BB),this.BB=null);this.L=null;this.Z=!1;this.D=[]};
g.X.pause=function(){++this.A};
g.X.resume=function(){this.A&&(--this.A,!this.A&&this.Z&&(this.Z=!1,this.U.apply(null,this.D)))};
g.X.d0=function(){this.stop();D9.WW.d0.call(this)};
g.X.qt=function(){this.BB&&(g.aC.clearTimeout(this.BB),this.BB=null);this.L?(this.BB=g.qX(this.T,this.L-g.j$()),this.L=null):this.A?this.Z=!0:(this.Z=!1,this.U.apply(null,this.D))};var bS=null;N4.prototype.set=function(m){this.Z=m};
N4.prototype.reset=function(){this.set(g.j$())};
N4.prototype.get=function(){return this.Z};g.qA(efG,ILA);var L1=class{stringify(m){return g.aC.JSON.stringify(m,void 0)}parse(m){return g.aC.JSON.parse(m,void 0)}};g.qA(n0,g.qO);g.qA(Sz,g.qO);var uvn=null;g.qA(zfG,g.qO);g.qA(ZT$,g.qO);g.qA(sdG,g.qO);Z9.prototype.debug=function(){};
Z9.prototype.info=function(){};
Z9.prototype.warning=function(){};var Bj$={},p0={};g.X=sI.prototype;g.X.setTimeout=function(m){this.Mf=m};
g.X.F0=function(m){m=m.target;const V=this.UH;V&&g.SB(m)==3?V.D():this.lD(m)};
g.X.lD=function(m){try{if(m==this.Z)a:{const w=g.SB(this.Z),y=this.Z.A,L=this.Z.getStatus();if(!(w<3)&&(w!=3||this.Z&&(this.A.A||g.uY(this.Z)||g.zV(this.Z)))){this.ze||w!=4||y==7||(y==8||L<=0?ez(3):ez(2));BQ(this);var V=this.Z.getStatus();this.pA=V;var O=pVn(this);if(this.U=V==200){if(this.xN&&!this.H6){b:{if(this.Z){const J=g.sg(this.Z,"X-HTTP-Initial-Response");if(J&&!g.dZ(J)){var h=J;break b}}h=null}if(m=h)this.H6=!0,wW(this,m);else{this.U=!1;this.T=3;uS(12);iS(this);Ga(this);break a}}if(this.mS){m=
!0;let J;for(;!this.ze&&this.N<O.length;)if(J=lLh(this,O),J==p0){w==4&&(this.T=4,uS(14),m=!1);break}else if(J==Bj$){this.T=4;uS(15);m=!1;break}else wW(this,J);G6I(this)&&this.N!=0&&(this.A.Z=this.A.Z.slice(this.N),this.N=0);w!=4||O.length!=0||this.A.A||(this.T=1,uS(16),m=!1);this.U=this.U&&m;m?O.length>0&&!this.jz&&(this.jz=!0,this.L.UD(this)):(iS(this),Ga(this))}else wW(this,O);w==4&&iS(this);this.U&&!this.ze&&(w==4?vlc(this.L,this):(this.U=!1,ap(this)))}else g.Zz(this.Z),V==400&&O.indexOf("Unknown SID")>
0?(this.T=3,uS(12)):(this.T=0,uS(13)),iS(this),Ga(this)}}}catch(w){}finally{}};
g.X.cancel=function(){this.ze=!0;iS(this)};
g.X.E4=function(){this.Zu=null;const m=Date.now();m-this.Xr>=0?(this.Te!=2&&(ez(3),uS(17)),iS(this),this.T=2,Ga(this)):Qda(this,this.Xr-m)};
g.X.getLastError=function(){return this.T};
g.X.rR=function(){return this.Z};var pUW=class{constructor(m,V){this.Z=m;this.map=V;this.context=null}};OUh.prototype.cancel=function(){this.L=ye(this);if(this.A)this.A.cancel(),this.A=null;else if(this.Z&&this.Z.size!==0){for(const m of this.Z.values())m.cancel();this.Z.clear()}};g.X=LMJ.prototype;g.X.R5=8;g.X.jt=1;g.X.connect=function(m,V,O,h){uS(0);this.FA=m;this.ze=V||{};O&&h!==void 0&&(this.ze.OSID=O,this.ze.OAID=h);this.UH=this.Ir;this.g0=PAn(this,null,this.FA);h$(this)};
g.X.disconnect=function(){JaG(this);if(this.jt==3){var m=this.YN++,V=this.g0.clone();g.jk(V,"SID",this.D);g.jk(V,"RID",m);g.jk(V,"TYPE","terminate");EK(this,V);m=new sI(this,this.D,m);m.Te=2;m.X=jz(V.clone());V=!1;if(g.aC.navigator&&g.aC.navigator.sendBeacon)try{V=g.aC.navigator.sendBeacon(m.X.toString(),"")}catch{}!V&&g.aC.Image&&((new Image).src=m.X,V=!0);V||(m.Z=iTz(m.L,null),m.Z.send(m.X));m.Qt=Date.now();ap(m)}xhZ(this)};
g.X.wH=function(){return this.jt==0};
g.X.getState=function(){return this.jt};
g.X.ZP=function(m){if(this.U)if(this.U=null,this.jt==1){if(!m){this.YN=Math.floor(Math.random()*1E5);m=this.YN++;const w=new sI(this,"",m);let y=this.V;this.xN&&(y?(y=g.Em(y),g.f9(y,this.xN)):y=this.xN);this.N!==null||this.Xr||(w.g0=y,y=null);if(this.w0)a:{var V=0;for(var O=0;O<this.L.length;O++){b:{var h=this.L[O];if("__data__"in h.map&&(h=h.map.__data__,typeof h==="string")){h=h.length;break b}h=void 0}if(h===void 0)break;V+=h;if(V>4096){V=O;break a}if(V===4096||O===this.L.length-1){V=O+1;break a}}V=
this.eU}else V=this.eU;V=qNH(this,w,V);O=this.g0.clone();g.jk(O,"RID",m);g.jk(O,"CVER",22);this.mS&&g.jk(O,"X-HTTP-Session-Id",this.mS);EK(this,O);y&&(this.Xr?V="headers="+g.tV(g.q7(y))+"&"+V:this.N&&g.M7(O,this.N,y));OK(this.A,w);this.El&&g.jk(O,"TYPE","init");this.w0?(g.jk(O,"$req",V),g.jk(O,"SID","null"),w.xN=!0,FP(w,O,null)):FP(w,O,V);this.jt=2}}else this.jt==3&&(m?MhA(this,m):this.L.length==0||hCz(this.A)||MhA(this))};
g.X.Qr=function(){this.X=null;fkJ(this);if(this.HD&&!(this.Mf||this.Z==null||this.PD<=0)){var m=4*this.PD;this.Ae=za((0,g.wc)(this.Aa,this),m)}};
g.X.Aa=function(){this.Ae&&(this.Ae=null,this.UH=!1,this.Mf=!0,uS(10),vQ(this),fkJ(this))};
g.X.UD=function(m){this.Z==m&&this.HD&&!this.Mf&&(C1(this),this.Mf=!0,uS(11))};
g.X.f9=function(){this.Zu!=null&&(this.Zu=null,vQ(this),PQ(this),uS(19))};
g.X.Dh=function(m){m?uS(2):uS(1)};
g.X.isActive=function(){return!!this.T&&this.T.isActive(this)};
g.X=oe5.prototype;g.X.m2=function(){};
g.X.cn=function(){};
g.X.AQ=function(){};
g.X.uA=function(){};
g.X.isActive=function(){return!0};
g.X.YH=function(){};g.qA(Mu,g.c3);Mu.prototype.open=function(){this.Z.T=this.L;this.N&&(this.Z.H6=!0);this.Z.connect(this.U,this.A||void 0)};
Mu.prototype.close=function(){this.Z.disconnect()};
Mu.prototype.send=function(m){var V=this.Z;if(typeof m==="string"){var O={};O.__data__=m;m=O}else this.T&&(O={},O.__data__=g.X0(m),m=O);V.L.push(new pUW(V.l2++,m));V.jt==3&&h$(V)};
Mu.prototype.d0=function(){this.Z.T=null;delete this.L;this.Z.disconnect();delete this.Z;Mu.WW.d0.call(this)};
g.qA(AaI,n0);g.qA(UhW,Sz);g.qA(qu,oe5);qu.prototype.m2=function(){this.Z.dispatchEvent("m")};
qu.prototype.cn=function(m){this.Z.dispatchEvent(new AaI(m))};
qu.prototype.AQ=function(m){this.Z.dispatchEvent(new UhW(m))};
qu.prototype.uA=function(){this.Z.dispatchEvent("n")};
Mu.prototype.D=function(){return new f1(this,this.Z)};
f1.prototype.A=function(){return mn(this.Z.A)};
f1.prototype.L=function(){return RC$(this.Z).map(m=>{var V=this.D;m=m.map;"__data__"in m?(m=m.__data__,V=V.T?jdz(m):m):V=m;return V})};
f1.prototype.commit=function(m){this.Z.pA=m};var Rf=new g.c3,dhH=class extends g.qO{constructor(){super("statevent",Rf)}};g.X=gW.prototype;g.X.KV=null;g.X.Bm=!1;g.X.bG=null;g.X.Y3=null;g.X.zW=null;g.X.TT=null;g.X.La=null;g.X.zT=null;g.X.H8=null;g.X.Gf=null;g.X.gt=0;g.X.zi=null;g.X.iW=null;g.X.rb=null;g.X.IE=-1;g.X.gL=!0;g.X.Di=!1;g.X.FS=0;g.X.I9=null;var WMH={},dW={};g.X=gW.prototype;g.X.setTimeout=function(m){this.A=m};
g.X.Mt=function(m){m=m.target;const V=this.I9;V&&g.SB(m)==3?V.D():this.L7(m)};
g.X.L7=function(m){try{if(m==this.Gf)a:{const V=g.SB(this.Gf),O=this.Gf.A,h=this.Gf.getStatus();if(g.g4&&!g.s0("420+")){if(V<4)break a}else if(V<3||V==3&&!g.uY(this.Gf))break a;this.Di||V!=4||O==7||(O==8||h<=0?this.Z.h_(3):this.Z.h_(2));Tvz(this);const w=this.Gf.getStatus();this.IE=w;const y=g.uY(this.Gf);if(this.Bm=w==200){V==4&&K1(this);if(this.mS){for(m=!0;!this.Di&&this.gt<y.length;){const L=XF5(this,y);if(L==dW){V==4&&(this.rb=4,of(),m=!1);break}else if(L==WMH){this.rb=4;of();m=!1;break}else $hh(this,
L)}V==4&&y.length==0&&(this.rb=1,of(),m=!1);this.Bm=this.Bm&&m;m||(K1(this),t$(this))}else $hh(this,y);this.Bm&&!this.Di&&(V==4?this.Z.tP(this):(this.Bm=!1,UK(this)))}else this.rb=w==400&&y.indexOf("Unknown SID")>0?3:0,of(),K1(this),t$(this)}}catch(V){}finally{}};
g.X.cancel=function(){this.Di=!0;K1(this)};
g.X.kH=function(){this.bG=null;const m=Date.now();m-this.Y3>=0?(this.TT!=2&&this.Z.h_(3),K1(this),this.rb=2,of(),t$(this)):HUG(this,this.Y3-m)};
g.X.getLastError=function(){return this.rb};g.X=ra$.prototype;g.X.oC=null;g.X.Ve=null;g.X.xv=!1;g.X.NA=null;g.X.wV=null;g.X.ZN=-1;g.X.vk=null;g.X.e4=null;g.X.connect=function(m){this.NA=m;m=XF(this.Z,null,this.NA);of();Date.now();const V=this.Z.V;V!=null?(this.vk=V[0],(this.e4=V[1])?(this.wV=1,ca5(this)):(this.wV=2,TT(this))):(L0(m,"MODE","init"),this.Ve=new gW(this),this.Ve.KV=this.oC,A$(this.Ve,m,!1,null,!0),this.wV=0)};
g.X.SQ=function(m){if(m)this.wV=2,TT(this);else{of();var V=this.Z;V.Jt=V.DX.ZN;bM(V,9)}m&&this.h_(2)};
g.X.MA=function(m){return this.Z.MA(m)};
g.X.abort=function(){this.Ve&&(this.Ve.cancel(),this.Ve=null);this.ZN=-1};
g.X.wH=function(){return!1};
g.X.DP=function(m,V){this.ZN=m.IE;if(this.wV==0)if(V){try{var O=this.A.parse(V)}catch(h){m=this.Z;m.Jt=this.ZN;bM(m,2);return}this.vk=O[0];this.e4=O[1]}else m=this.Z,m.Jt=this.ZN,bM(m,2);else this.wV==2&&(this.xv?(of(),Date.now()):V=="11111"?(of(),this.xv=!0,Date.now(),this.ZN=200,this.Ve.cancel(),of(),H4(this.Z,this,!0)):(of(),Date.now(),this.xv=!1))};
g.X.tP=function(){this.ZN=this.Ve.IE;if(this.Ve.Bm)this.wV==0?this.e4?(this.wV=1,ca5(this)):(this.wV=2,TT(this)):this.wV==2&&(this.xv?(of(),H4(this.Z,this,!0)):(of(),H4(this.Z,this,!1)));else{this.wV==0?of():this.wV==2&&of();var m=this.Z;this.Ve.getLastError();m.Jt=this.ZN;bM(m,2)}};
g.X.TW=function(){return this.Z.TW()};
g.X.isActive=function(){return this.Z.isActive()};
g.X.h_=function(m){this.Z.h_(m)};g.X=$f.prototype;g.X.pw=null;g.X.iM=null;g.X.i4=null;g.X.QC=null;g.X.eC=null;g.X.GT=null;g.X.I5=null;g.X.JP=null;g.X.vr=0;g.X.PR=0;g.X.VC=null;g.X.xd=null;g.X.A_=null;g.X.qH=null;g.X.DX=null;g.X.Vv=null;g.X.CM=-1;g.X.Th=-1;g.X.Jt=-1;g.X.pM=0;g.X.wb=0;g.X.UX=8;var BwA={OK:0,mfS:2,G4:4,Wu:5,U86:6,STOP:7,C9:8,R3:9,Wv:10,l3:11,WE:12};g.qA(NvM,g.qO);g.qA(bU$,g.qO);g.X=$f.prototype;
g.X.connect=function(m,V,O,h,w){of();this.eC=V;this.iM=O||{};h&&w!==void 0&&(this.iM.OSID=h,this.iM.OAID=w);this.X?(xf((0,g.wc)(this.Ef,this,m),100),nea(this)):this.Ef(m)};
g.X.disconnect=function(){SNz(this);if(this.Z==3){var m=this.vr++;const V=this.GT.clone();g.jk(V,"SID",this.D);g.jk(V,"RID",m);g.jk(V,"TYPE","terminate");D4(this,V);m=new gW(this,this.D,m);m.TT=2;m.La=jz(V.clone());(new Image).src=m.La.toString();m.zW=Date.now();UK(m)}FMJ(this)};
g.X.Ef=function(m){this.DX=new ra$(this);this.DX.oC=this.pw;this.DX.A=this.T;this.DX.connect(m)};
g.X.wH=function(){return this.Z==0};
g.X.getState=function(){return this.Z};
g.X.gx=function(m){this.xd=null;usa(this,m)};
g.X.iA=function(){this.A_=null;this.QC=new gW(this,this.D,"rpc",this.N);this.QC.KV=this.pw;this.QC.FS=0;var m=this.I5.clone();g.jk(m,"RID","rpc");g.jk(m,"SID",this.D);g.jk(m,"CI",this.Vv?"0":"1");g.jk(m,"AID",this.CM);D4(this,m);g.jk(m,"TYPE","xmlhttp");A$(this.QC,m,!0,this.JP,!1)};
g.X.DP=function(m,V){if(this.Z!=0&&(this.QC==m||this.i4==m))if(this.Jt=m.IE,this.i4==m&&this.Z==3)if(this.UX>7){try{var O=this.T.parse(V)}catch(h){O=null}if(Array.isArray(O)&&O.length==3)if(m=O,m[0]==0)a:{if(!this.A_){if(this.QC)if(this.QC.zW+3E3<this.i4.zW)kf(this),this.QC.cancel(),this.QC=null;else break a;Nu(this);of()}}else this.Th=m[1],0<this.Th-this.CM&&m[2]<37500&&this.Vv&&this.wb==0&&!this.qH&&(this.qH=xf((0,g.wc)(this.tb,this),6E3));else bM(this,11)}else V!="y2f%"&&bM(this,11);else if(this.QC==
m&&kf(this),!g.dZ(V))for(m=this.T.parse(V),V=0;V<m.length;V++)O=m[V],this.CM=O[0],O=O[1],this.Z==2?O[0]=="c"?(this.D=O[1],this.JP=O[2],O=O[3],O!=null?this.UX=O:this.UX=6,this.Z=3,this.VC&&this.VC.K7(),this.I5=XF(this,this.TW()?this.JP:null,this.eC),zCJ(this)):O[0]=="stop"&&bM(this,7):this.Z==3&&(O[0]=="stop"?bM(this,7):O[0]!="noop"&&this.VC&&this.VC.Gh(O),this.wb=0)};
g.X.tb=function(){this.qH!=null&&(this.qH=null,this.QC.cancel(),this.QC=null,Nu(this),of())};
g.X.tP=function(m){if(this.QC==m){kf(this);this.QC=null;var V=2}else if(this.i4==m)this.i4=null,V=1;else return;this.Jt=m.IE;if(this.Z!=0)if(m.Bm)if(V==1){V=m.H8?m.H8.length:0;m=Date.now()-m.zW;var O=Rf;O.dispatchEvent(new NvM(O,V,m,this.pM));Yf(this);this.VC&&this.VC.Hn(this,this.L);this.L.length=0}else zCJ(this);else{O=m.getLastError();var h;if(!(h=O==3||O==7||O==0&&this.Jt>0)){if(h=V==1)this.i4||this.xd||this.Z==1||this.pM>=2?h=!1:(this.xd=xf((0,g.wc)(this.gx,this,m),ZUc(this,this.pM)),this.pM++,
h=!0);h=!(h||V==2&&Nu(this))}if(h)switch(O){case 1:bM(this,5);break;case 4:bM(this,10);break;case 3:bM(this,6);break;case 7:bM(this,12);break;default:bM(this,2)}}};
g.X.oO=function(m){if(!g.$I(arguments,this.Z))throw Error("Unexpected channel state: "+this.Z);};
g.X.LW=function(m){m?of():(of(),sIn(this,8))};
g.X.MA=function(m){if(m)throw Error("Can't create secondary domain capable XhrIo object.");m=new g.r_;m.N=!1;return m};
g.X.isActive=function(){return!!this.VC&&this.VC.isActive(this)};
g.X.h_=function(m){const V=Rf;V.dispatchEvent(new bU$(V,m))};
g.X.TW=function(){return!1};
new efG;g.X=akc.prototype;g.X.K7=function(){};
g.X.Gh=function(){};
g.X.Hn=function(){};
g.X.vn=function(){};
g.X.XS=function(){};
g.X.Un=function(){return{}};
g.X.isActive=function(){return!0};g.X=iU5.prototype;g.X.enqueue=function(m){this.A.push(m)};
g.X.isEmpty=function(){return this.Z.length===0&&this.A.length===0};
g.X.clear=function(){this.Z=[];this.A=[]};
g.X.contains=function(m){return g.$I(this.Z,m)||g.$I(this.A,m)};
g.X.remove=function(m){{var V=this.Z;const O=Array.prototype.lastIndexOf.call(V,m,V.length-1);O>=0?(g.kI(V,O),V=!0):V=!1}return V||g.rc(this.A,m)};
g.X.d4=function(){const m=[];for(var V=this.Z.length-1;V>=0;--V)m.push(this.Z[V]);V=this.A.length;for(let O=0;O<V;++O)m.push(this.A[O]);return m};var lA5=class extends g.qO{constructor(m){super("channelMessage");this.message=m}},QbJ=class extends g.qO{constructor(m){super("channelError");this.error=m}};g.qA(n1,g.Ja);g.X=n1.prototype;g.X.NZ=function(){this.retryCount++;this.ji=Math.min(3E5,this.ji*2);this.A();this.wj&&this.start()};
g.X.xV=function(){return this.retryCount};
g.X.start=function(){const m=this.ji+15E3*Math.random();this.Z.sI(m);this.wj=Date.now()+m};
g.X.stop=function(){this.Z.stop();this.wj=0};
g.X.isActive=function(){return this.Z.isActive()};
g.X.reset=function(){this.Z.stop();this.retryCount=0;this.ji=5E3};g.qA(Si,akc);g.X=Si.prototype;g.X.subscribe=function(m,V,O){return this.X.subscribe(m,V,O)};
g.X.unsubscribe=function(m,V,O){return this.X.unsubscribe(m,V,O)};
g.X.xF=function(m){return this.X.xF(m)};
g.X.publish=function(m,V){return this.X.publish.apply(this.X,arguments)};
g.X.dispose=function(){this.V||(this.V=!0,g.jh(this.X),this.disconnect(),g.jh(this.A),this.A=null,this.g0=()=>"",this.H6=()=>g.iL({}))};
g.X.EH=function(){return this.V};
g.X.connect=async function(m,V,O){try{this.N&&await this.T}finally{if(this.V||this.Z&&this.Z.getState()==2&&!this.L)return;this.mS="";this.L||this.A.stop();this.S=m||null;this.Zu=V||0;const h=this.UH+"/test",w=this.UH+"/bind";m=new $f(O?O.firstTestResults:null,O?O.secondTestResults:null,this.lH);const y=this.Z;y&&(y.VC=null);m.VC=this;this.Z=m;if(this.N)return this.T=uM(this).then(()=>V_I(this,h,w,y,O)),this.T.then(()=>{this.T=g.iL()});
V_I(this,h,w,y,O)}};
g.X.disconnect=function(m){try{this.N&&(this.T.cancel(),this.T=g.iL())}finally{this.Ae=m||0,this.A&&this.A.stop(),If(this),this.Z&&(this.Z.getState()==3&&usa(this.Z),this.Z.disconnect()),this.Ae=0}};
g.X.sendMessage=async function(m,V){try{this.N&&await this.T}finally{if(this.V)return;const O={_sc:m};V&&g.f9(O,V);if(this.A.isActive()||(this.Z?this.Z.getState():0)==2)this.D.push(O);else if(this.LS())try{this.N&&!yHc(this,m)&&await uM(this)}finally{this.LS()&&(yHc(this,m)||ei(this),If(this),rW(this.Z,O))}}};
g.X.K7=function(){this.U&&this.A&&this.A.xV()>0&&(this.U.BoA(this.A.xV(),this.L,!0),this.U.xyY());this.U&&this.U.Far();this.L?(this.A.stop(),g.jh(this.A),this.A=new n1(this.cZ,this),this.L=!1):this.A.reset();this.S=null;this.Zu=0;if(this.D.length)if(this.N)jhn(this);else{var m=this.D;this.D=[];var V=m.length;ei(this);for(let O=0;O<V;++O)rW(this.Z,m[O]);zT(this);zT(this)}else zT(this)};
g.X.vn=function(m){var V=m==2&&this.Z.Jt==401;m==4||V||(this.L&&!this.A.isActive()&&(g.jh(this.A),this.A=new n1(this.cZ,this),this.L=!1),this.A.start());this.publish("handlerError",m,V);V=Object.keys(BwA).find(O=>BwA[O]===m);
this.Nf.Z("BROWSER_CHANNEL",V??"UNKNOWN")};
g.X.XS=function(m,V){if(!this.A.isActive())this.publish("handlerClosed");else if(V){const O=V.length;for(let h=0;h<O;++h){const w=V[h].map;w&&this.D.push(w)}}this.YN.Z("BROWSER_CHANNEL");m&&g.g_(this.PD.A,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",m.length);V&&g.g_(this.q8.A,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",V.length)};
g.X.Hn=function(m,V){V!=null&&m!=null&&this.w0.Z()};
g.X.Un=function(){const m={v:2};this.mS&&(m.gsessionid=this.mS);this.Zu!=0&&(m.ui=""+this.Zu);this.Ae!=0&&(m.ui=""+this.Ae);this.S&&g.f9(m,this.S);return m};
g.X.Gh=function(m){m[0]=="S"?this.mS=m[1]:m[0]=="gracefulReconnect"?(this.A.start(),this.Z.disconnect()):this.publish("handlerMessage",new Gin(m[0],m[1]));this.Mf.Z("BROWSER_CHANNEL")};
g.X.LS=function(){return!!this.Z&&this.Z.getState()==3};
g.X.Er=function(m){(this.Qt.loungeIdToken=m)||this.A.stop();if(this.Ir&&this.Z){const V=this.Z.pw||{};m?V["X-YouTube-LoungeId-Token"]=m:delete V["X-YouTube-LoungeId-Token"];this.Z.pw=V}};
g.X.getDeviceId=function(){return this.Qt.id};
g.X.e1=function(){return this.A.isActive()?this.A.wj-Date.now():NaN};
g.X.RH=function(){var m=this.A;g.Ox(m.Z);m.start()};
g.X.cZ=function(){this.A.isActive();IkI(this.Z)==0&&this.connect(this.S,this.Zu)};Z4.prototype.sendRequest=function(m,V,O,h,w,y,L){m={format:y?"RAW":"JSON",method:m,context:this,timeout:5E3,withCredentials:!!L,onSuccess:g.yW(this.D,h,!y),onError:g.yW(this.L,w),onTimeout:g.yW(this.T,w)};O&&(m.postParams=O,m.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.lC(V,m)};
Z4.prototype.D=function(m,V,O,h){V?m(h):m({text:O.responseText})};
Z4.prototype.L=function(m,V){m(Error("Request error: "+V.status))};
Z4.prototype.T=function(m){m(Error("request timed out"))};var M_J=class extends g.c3{constructor(m,V){super();this.handler=m();this.handler.subscribe("handlerOpened",this.Z,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(O,h)=>{this.onError(h)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.A=V}connect(m,V,O){this.handler.connect(m,V,O)}disconnect(m){this.handler.disconnect(m)}RH(){this.handler.RH()}getDeviceId(){return this.handler.getDeviceId()}e1(){return this.handler.e1()}LS(){return this.handler.LS()}Z(){this.dispatchEvent("channelOpened");var m=this.handler,V=this.A;g.OL("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!m.Z.Vv,sessionId:m.Z.D,arrayId:m.Z.CM});g.OL("yt-remote-session-screen-id",
V);m=ty();V=WQ();g.$I(m,V)||m.push(V);tVn(m);XP()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(m){this.dispatchEvent(new lA5(m))}onError(m){this.dispatchEvent(new QbJ(m?1:0))}sendMessage(m,V){this.handler.sendMessage(m,V)}Er(m){this.handler.Er(m)}dispose(){this.handler.dispose()}};var qw5=class{constructor(m,V,O=()=>""){new geh;
var h=new g.NB;this.pathPrefix=m;this.Z=V;this.Qt=O;this.T=h;this.X=null;this.V=this.N=0;this.channel=null;this.U=0;this.L=new n1(()=>{this.L.isActive();this.channel?.D().A()===0&&this.connect(this.X,this.N)});
this.D={};this.A={};this.Zu=!1;this.logger=null;this.S=[];this.oF=void 0;this.g0=new pFG;this.Ae=new Bv5;this.ze=new QIa;this.mS=new veA}connect(m={},V=0){this.U!==2&&(this.L.stop(),this.X=m,this.N=V,FF(this),(m=g.u("ID_TOKEN"))?this.D["x-youtube-identity-token"]=m:delete this.D["x-youtube-identity-token"],this.Z&&(this.A.device=this.Z.device,this.A.name=this.Z.name,this.A.app=this.Z.app,this.A.id=this.Z.id,this.Z.J$&&(this.A.mdxVersion=`${this.Z.J$}`),this.Z.theme&&(this.A.theme=this.Z.theme),this.Z.capabilities&&
(this.A.capabilities=this.Z.capabilities),this.Z.Ts&&(this.A.cst=this.Z.Ts),this.Z.authuser&&(this.A.authuser=this.Z.authuser),this.Z.pageId&&(this.A.pageId=this.Z.pageId)),this.N!==0?this.A.ui=`${this.N}`:delete this.A.ui,Object.assign(this.A,this.X),this.channel=new Mu(this.pathPrefix,{CJ:"gsessionid",rr:this.D,bO:this.A}),this.channel.open(),this.U=2,C8Z(this))}disconnect(m=0){this.V=m;this.L.stop();FF(this);this.channel&&(this.V!==0?this.A.ui=`${this.V}`:delete this.A.ui,this.channel.close());
this.V=0}e1(){return this.L.isActive()?this.L.wj-Date.now():NaN}RH(){var m=this.L;g.Ox(m.Z);m.start()}sendMessage(m,V){this.channel&&(FF(this),this.channel.send({_sc:m,...V}))}Er(m){m||this.L.stop();m?this.D["X-YouTube-LoungeId-Token"]=m:delete this.D["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.Z?this.Z.id:""}publish(m,...V){return this.T.publish(m,...V)}subscribe(m,V,O){return this.T.subscribe(m,V,O)}unsubscribe(m,V,O){return this.T.unsubscribe(m,V,O)}xF(m){return this.T.xF(m)}dispose(){this.Zu||
(this.Zu=!0,g.jh(this.T),this.disconnect(),g.jh(this.L),this.Qt=()=>"")}EH(){return this.Zu}};var ErG=class extends g.c3{constructor(m){super();this.Z=m();this.Z.subscribe("webChannelOpened",this.A,this);this.Z.subscribe("webChannelClosed",this.onClosed,this);this.Z.subscribe("webChannelError",this.onError,this);this.Z.subscribe("webChannelMessage",this.onMessage,this)}connect(m,V){this.Z.connect(m,V)}disconnect(m){this.Z.disconnect(m)}RH(){this.Z.RH()}getDeviceId(){return this.Z.getDeviceId()}e1(){return this.Z.e1()}LS(){return this.Z.U===3}A(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(m){this.dispatchEvent(new lA5(m))}onError(){this.dispatchEvent(new QbJ(this.Z.oF===
401?1:0))}sendMessage(m,V){this.Z.sendMessage(m,V)}Er(m){this.Z.Er(m)}dispose(){this.Z.dispose()}};var dQH=Date.now(),af=null,B4=Array(50),p1=-1,lM=!1;g.qA(Qe,g.Vs);Qe.prototype.dV=function(){return this.screens};
Qe.prototype.contains=function(m){return!!UI(this.screens,m)};
Qe.prototype.get=function(m){return m?df(this.screens,m):null};
Qe.prototype.info=function(m){iM(this.U,m)};var Pgz=class extends g.Vs{constructor(m,V,O,h,w){super();this.D=m;this.S=V;this.X=O;this.Zu=h;this.V=w;this.A=0;this.Z=null;this.BB=NaN}start(){!this.Z&&isNaN(this.BB)&&this.L()}stop(){this.Z&&(this.Z.abort(),this.Z=null);isNaN(this.BB)||(g.zN(this.BB),this.BB=NaN)}d0(){this.stop();super.d0()}L(){this.BB=NaN;this.Z=g.lC(sK(this.D,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.S},timeout:5E3,onSuccess:(0,g.wc)(this.U,this),onError:(0,g.wc)(this.T,this),onTimeout:(0,g.wc)(this.N,
this)})}U(m,V){this.Z=null;m=V.screen||{};m.dialId=this.X;m.name=this.Zu;V=-1;this.V&&m.shortLivedLoungeToken&&m.shortLivedLoungeToken.value&&m.shortLivedLoungeToken.refreshIntervalMs&&(m.screenIdType="shortLived",m.loungeToken=m.shortLivedLoungeToken.value,V=m.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new x$(m),V)}T(m){this.Z=null;m.status&&m.status==404?this.A>=vxz.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(m=vxz[this.A],this.BB=g.er((0,g.wc)(this.L,
this),m),this.A++):this.publish("pairingFailed",Error("Server error "+m.status))}N(){this.Z=null;this.publish("pairingFailed",Error("Server not responding"))}},vxz=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.qA(P4,Qe);g.X=P4.prototype;g.X.start=function(){v4(this)&&this.publish("screenChange");!g.hc("yt-remote-lounge-token-expiration")&&X6n(this);g.zN(this.Z);this.Z=g.er((0,g.wc)(this.start,this),1E4)};
g.X.add=function(m,V){v4(this);t_h(this,m);mI(this,!1);this.publish("screenChange");V(m);m.token||X6n(this)};
g.X.remove=function(m,V){let O=v4(this);Woh(this,m)&&(mI(this,!1),O=!0);V(m);O&&this.publish("screenChange")};
g.X.x6=function(m,V,O,h){let w=v4(this);const y=this.get(m.id);y?(y.name!=V&&(y.name=V,mI(this,!1),w=!0),O(m)):h(Error("no such local screen."));w&&this.publish("screenChange")};
g.X.d0=function(){g.zN(this.Z);P4.WW.d0.call(this)};
g.X.N5=function(m){v4(this);let V=this.screens.length;m=m&&m.screens||[];const O=m.length;for(let h=0;h<O;++h){const w=m[h],y=this.get(w.screenId);y&&(y.token=w.loungeToken,--V)}mI(this,!V);V&&iM(this.U,"Missed "+V+" lounge tokens.")};
g.X.tG=function(m){iM(this.U,"Requesting lounge tokens failed: "+m)};var NDa=class extends g.Vs{constructor(m,V){super();this.U=V;V=(V=g.hc("yt-remote-online-screen-ids")||"")?V.split(","):[];const O={},h=this.U(),w=h.length;for(let y=0;y<w;++y){const L=h[y].id;O[L]=g.$I(V,L)}this.Z=O;this.T=m;this.L=this.D=NaN;this.A=null;Vm("Initialized with "+g.X0(this.Z))}start(){const m=parseInt(g.hc("yt-remote-fast-check-period")||"0",10);(this.D=g.j$()-144E5<m?0:m)?O8(this):(this.D=g.j$()+3E5,g.OL("yt-remote-fast-check-period",this.D),this.N())}isEmpty(){return g.yg(this.Z)}update(){Vm("Updating availability on schedule.");
const m=this.U(),V=g.GZ(this.Z,function(O,h){return O&&!!df(m,h)},this);
hA(this,V)}d0(){g.zN(this.L);this.L=NaN;this.A&&(this.A.abort(),this.A=null);super.d0()}N(){g.zN(this.L);this.L=NaN;this.A&&this.A.abort();const m=TDM(this);if(Jy(m)){var V=sK(this.T,"/pairing/get_screen_availability"),O={lounge_token:g.mA(m).join(",")};this.A=this.T.sendRequest("POST",V,O,(0,g.wc)(this.V,this,m),(0,g.wc)(this.X,this))}else hA(this,{}),O8(this)}V(m,V){this.A=null;var O=g.mA(TDM(this));if(g.Fh(O,g.mA(m))){V=V.screens||[];O={};var h=V.length;for(let w=0;w<h;++w)O[m[V[w].loungeToken]]=
V[w].status=="online";hA(this,O);O8(this)}else this.D8("Changing Screen set during request."),this.N()}X(m){this.D8("Screen availability failed: "+m);this.A=null;O8(this)}D8(m){iM("OnlineScreenService",m)}};g.qA(ym,Qe);g.X=ym.prototype;g.X.start=function(){this.A.start();this.Z.start();this.screens.length&&(this.publish("screenChange"),this.Z.isEmpty()||this.publish("onlineScreenChange"))};
g.X.add=function(m,V,O){this.A.add(m,V,O)};
g.X.remove=function(m,V,O){this.A.remove(m,V,O);this.Z.update()};
g.X.x6=function(m,V,O,h){this.A.contains(m)?this.A.x6(m,V,O,h):(m="Updating name of unknown screen: "+m.name,iM(this.U,m),h(Error(m)))};
g.X.dV=function(m){return m?this.screens:g.DM(this.screens,g.UJ(this.L,function(V){return!this.contains(V)},this))};
g.X.yr=function(){return g.UJ(this.dV(!0),function(m){return!!this.Z.Z[m.id]},this)};
g.X.qM=function(m,V,O,h,w,y){this.info("getDialScreenByPairingCode "+m+" / "+V);const L=new Pgz(this.D,m,V,O,h);L.subscribe("pairingComplete",(J,C)=>{g.jh(L);w(jT(this,J),C)});
L.subscribe("pairingFailed",J=>{g.jh(L);y(J)});
L.start();return(0,g.wc)(L.stop,L)};
g.X.Nt=function(m,V,O,h){g.lC(sK(this.D,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:m},timeout:5E3,onSuccess:(0,g.wc)(function(w,y){w=new x$(y.screen||{});if(!w.name||rHG(this,w.name)){a:{y=w.name;let L=2,J=V(y,L);for(;rHG(this,J);){L++;if(L>20)break a;J=V(y,L)}y=J}w.name=y}O(jT(this,w))},this),
onError:(0,g.wc)(function(w){h(Error("pairing request failed: "+w.status))},this),
onTimeout:(0,g.wc)(function(){h(Error("pairing request timed out."))},this)})};
g.X.d0=function(){g.jh(this.A);g.jh(this.Z);ym.WW.d0.call(this)};
g.X.Ow=function(){DQn(this);this.publish("screenChange");this.Z.update()};
ym.prototype.dispose=ym.prototype.dispose;g.qA(JA,g.Vs);g.X=JA.prototype;g.X.X8=function(m){this.EH()||(m&&(E8(this,""+m),this.publish("sessionFailed")),this.Z=null,this.publish("sessionScreen",null))};
g.X.info=function(m){iM(this.mS,m)};
g.X.En=function(){return null};
g.X.C8=function(m){const V=this.A;m?(V.displayStatus=new chrome.cast.ReceiverDisplayStatus(m,[]),V.displayStatus.showStop=!0):V.displayStatus=null;chrome.cast.setReceiverDisplayStatus(V,(0,g.wc)(function(){this.info("Updated receiver status for "+V.friendlyName+": "+m)},this),(0,g.wc)(function(){E8(this,"Failed to update receiver status for: "+V.friendlyName)},this))};
g.X.d0=function(){this.C8("");JA.WW.d0.call(this)};var Xz=class extends JA{constructor(m,V,O){super(m,V,"CastSession");this.config_=O;this.L=null;this.S=(0,g.wc)(this.g0,this);this.Qt=(0,g.wc)(this.Te,this);this.Zu=g.er(()=>{IeJ(this,null)},12E4);
this.X=this.T=this.N=this.V=0}Ae(m){if(this.L){if(this.L==m)return;E8(this,"Overriding cast session with new session object");etI(this);this.L.removeUpdateListener(this.S);this.L.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Qt)}this.L=m;this.L.addUpdateListener(this.S);this.L.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.Qt);uRc(this,"getMdxSessionStatus")}U(m){this.info("launchWithParams no-op for Cast: "+g.X0(m))}stop(){this.L?this.L.stop((0,g.wc)(function(){this.X8()},
this),(0,g.wc)(function(){this.X8(Error("Failed to stop receiver app."))},this)):this.X8(Error("Stopping cast device without session."))}C8(){}d0(){this.info("disposeInternal");
etI(this);this.L&&(this.L.removeUpdateListener(this.S),this.L.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Qt));this.L=null;super.d0()}Te(m,V){if(!this.EH())if(V)if(V=C0(V),g.PX(V))switch(m=""+V.type,V=V.data||{},this.info("onYoutubeMessage_: "+m+" "+g.X0(V)),m){case "mdxSessionStatus":IeJ(this,V);break;case "loungeToken":ztz(this,V);break;default:E8(this,"Unknown youtube message: "+m)}else E8(this,"Unable to parse message.");else E8(this,"No data in message.")}ze(m,V,O,h){g.zN(this.V);
this.V=0;kb5(this.D,this.A.label,m,this.A.friendlyName,(0,g.wc)(function(w){w?V(w):h>=0?(E8(this,"Screen "+m+" appears to be offline. "+h+" retries left."),this.V=g.er((0,g.wc)(this.ze,this,m,V,O,h-1),300)):O(Error("Unable to fetch screen."))},this),O)}En(){return this.L}g0(m){this.EH()||m||(E8(this,"Cast session died."),this.X8())}};var mO5=class extends JA{constructor(m,V,O,h){super(m,V,"DialSession");this.config_=h;this.L=this.V=null;this.Qt="";this.Te=O;this.g0=null;this.S=()=>{};
this.Zu=NaN;this.ze=(0,g.wc)(this.H6,this);this.T=()=>{};
this.X=this.N=0}Ae(m){this.L=m;this.L.addUpdateListener(this.ze)}U(m){this.g0=m;this.S()}stop(){ib$(this);this.L?this.L.stop((0,g.wc)(this.X8,this,null),(0,g.wc)(this.X8,this,"Failed to stop DIAL device.")):this.X8()}d0(){ib$(this);this.L&&this.L.removeUpdateListener(this.ze);this.L=null;super.d0()}H6(m){this.EH()||m||(E8(this,"DIAL session died."),this.T(),this.T=()=>{},this.X8())}};var Vbh=class extends JA{constructor(m,V){super(m,V,"ManualSession");this.L=g.er((0,g.wc)(this.U,this,null),150)}stop(){this.X8()}Ae(){}U(){g.zN(this.L);this.L=NaN;const m=df(this.D.dV(),this.A.label);m?Cv(this,m):this.X8(Error("No such screen"))}d0(){g.zN(this.L);this.L=NaN;super.d0()}};var kM=class extends g.Vs{constructor(m,V){super();this.config_=V;this.A=m;this.Ae=V.appId||"233637DE";this.D=V.theme||"cl";this.mS=V.disableCastApi||!1;this.N=V.forceMirroring||!1;this.Z=null;this.X=!1;this.L=[];this.U=(0,g.wc)(this.g0,this)}init(m,V){chrome.cast.timeout.requestSession=3E4;var O=new chrome.cast.SessionRequest(this.Ae,[chrome.cast.Capability.AUDIO_OUT]);g.FX("desktop_enable_cast_connect")&&(O.androidReceiverCompatible=!0);this.mS||(O.dialRequest=new chrome.cast.DialRequest("YouTube"));
const h=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;m=m||this.N?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const w=(0,g.wc)(this.Te,this);O=new chrome.cast.ApiConfig(O,(0,g.wc)(this.V,this),w,h,m);O.customDialLaunchCallback=(0,g.wc)(this.ze,this);chrome.cast.initialize(O,(0,g.wc)(function(){this.EH()||(chrome.cast.addReceiverActionListener(this.U),grA(),this.A.subscribe("onlineScreenChange",(0,g.wc)(this.T,this)),this.L=vra(this),chrome.cast.setCustomReceivers(this.L,
()=>{},(0,g.wc)(function(y){this.D8("Failed to set initial custom receivers: "+g.X0(y))},this)),this.publish("yt-remote-cast2-availability-change",oD(this)),V(!0))},this),(0,g.wc)(function(y){this.D8("Failed to initialize API: "+g.X0(y));
V(!1)},this))}UH(m,V){gl("Setting connected screen ID: "+m+" -> "+V);
if(this.Z){var O=this.Z.Z;if(!m||O&&O.id!=m)gl("Unsetting old screen status: "+this.Z.A.friendlyName),AA(this,null)}if(m&&V){if(!this.Z){m=df(this.A.dV(),m);if(!m){gl("setConnectedScreenStatus: Unknown screen.");return}if(m.idType=="shortLived"){gl("setConnectedScreenStatus: Screen with id type to be short lived.");return}O=QhJ(this,m);O||(gl("setConnectedScreenStatus: Connected receiver not custom..."),O=new chrome.cast.Receiver(m.uuid?m.uuid:m.id,m.name),O.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.L.push(O),chrome.cast.setCustomReceivers(this.L,()=>{},(0,g.wc)(function(h){this.D8("Failed to set initial custom receivers: "+g.X0(h))},this)));
gl("setConnectedScreenStatus: new active receiver: "+O.friendlyName);AA(this,new Vbh(this.A,O),!0)}this.Z.C8(V)}else gl("setConnectedScreenStatus: no screen.")}YN(m){this.EH()?this.D8("Setting connection data on disposed cast v2"):this.Z?this.Z.U(m):this.D8("Setting connection data without a session")}Qt(){this.EH()?this.D8("Stopping session on disposed cast v2"):this.Z?(this.Z.stop(),AA(this,null)):gl("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.wc)(this.V,this),
(0,g.wc)(this.H6,this))}d0(){this.A.unsubscribe("onlineScreenChange",(0,g.wc)(this.T,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.U);var m=xQJ;const V=g.Gl("yt.mdx.remote.debug.handlers_");g.rc(V||[],m);g.jh(this.Z);super.d0()}D8(m){iM("Controller",m)}Zu(m,V){this.Z==m&&(V||AA(this,null),this.publish("yt-remote-cast2-session-change",V))}g0(m,V){if(!this.EH())if(m)switch(m.friendlyName=chrome.cast.unescape(m.friendlyName),gl("onReceiverAction_ "+m.label+" / "+m.friendlyName+
"-- "+V),V){case chrome.cast.ReceiverAction.CAST:if(this.Z)if(this.Z.A.label!=m.label)gl("onReceiverAction_: Stopping active receiver: "+this.Z.A.friendlyName),this.Z.stop();else{gl("onReceiverAction_: Casting to active receiver.");this.Z.Z&&this.publish("yt-remote-cast2-session-change",this.Z.Z);break}switch(m.receiverType){case chrome.cast.ReceiverType.CUSTOM:AA(this,new Vbh(this.A,m));break;case chrome.cast.ReceiverType.DIAL:AA(this,new mO5(this.A,m,this.D,this.config_));break;case chrome.cast.ReceiverType.CAST:AA(this,
new Xz(this.A,m,this.config_));break;default:this.D8("Unknown receiver type: "+m.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.Z&&this.Z.A.label==m.label?this.Z.stop():this.D8("Stopping receiver w/o session: "+m.friendlyName)}else this.D8("onReceiverAction_ called without receiver.")}ze(m){if(this.EH())return Promise.reject(Error("disposed"));var V=m.receiver;V.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.D8("Not DIAL receiver: "+V.friendlyName),V.receiverType=chrome.cast.ReceiverType.DIAL);
var O=this.Z?this.Z.A:null;if(!O||O.label!=V.label)return this.D8("Receiving DIAL launch request for non-clicked DIAL receiver: "+V.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(O&&O.label==V.label&&O.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.Z.Z)return gl("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.Z.Z),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.D8('Changing CAST intent from "'+O.receiverType+'" to "dial" for '+V.friendlyName);
AA(this,new mO5(this.A,V,this.D,this.config_))}V=this.Z;V.V=m;V.V.appState==chrome.cast.DialAppState.RUNNING?(m=V.V.extraData||{},O=m.screenId||null,xM(V)&&m.loungeToken?m.loungeTokenRefreshIntervalMs?m=lea(V,{name:V.A.friendlyName,screenId:m.screenId,loungeToken:m.loungeToken,dialId:V.V.receiver.label,screenIdType:"shortLived"},m.loungeTokenRefreshIntervalMs):(g.oe(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(m)}.`)),m=p6n(V,O)):m=p6n(V,O)):m=fv(V);return m}V(m){if(!this.EH()&&
!this.N){gl("New cast session ID: "+m.sessionId);var V=m.receiver;if(V.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.Z)if(V.receiverType==chrome.cast.ReceiverType.CAST)gl("Got resumed cast session before resumed mdx connection."),V.friendlyName=chrome.cast.unescape(V.friendlyName),AA(this,new Xz(this.A,V,this.config_),!0);else{this.D8("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var O=this.Z.A,h=df(this.A.dV(),O.label);h&&Rp(h,V.label)&&O.receiverType!=
chrome.cast.ReceiverType.CAST&&V.receiverType==chrome.cast.ReceiverType.CAST&&(gl("onSessionEstablished_: manual to cast session change "+V.friendlyName),g.jh(this.Z),this.Z=new Xz(this.A,V,this.config_),this.Z.subscribe("sessionScreen",(0,g.wc)(this.Zu,this,this.Z)),this.Z.subscribe("sessionFailed",()=>P8J(this,this.Z)),this.Z.U(null));
this.Z.Ae(m)}}}S(){return this.Z?this.Z.En():null}H6(m){this.EH()||(this.D8("Failed to estabilish a session: "+g.X0(m)),m.code!=chrome.cast.ErrorCode.CANCEL&&AA(this,null),this.publish("yt-remote-cast2-session-failed"))}Te(m){gl("Receiver availability updated: "+m);if(!this.EH()){var V=oD(this);this.X=m==chrome.cast.ReceiverAvailability.AVAILABLE;oD(this)!=V&&this.publish("yt-remote-cast2-availability-change",oD(this))}}T(){this.EH()||(this.L=vra(this),gl("Updating custom receivers: "+g.X0(this.L)),
chrome.cast.setCustomReceivers(this.L,()=>{},(0,g.wc)(function(){this.D8("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",oD(this)))}};
kM.prototype.setLaunchParams=kM.prototype.YN;kM.prototype.setConnectedScreenStatus=kM.prototype.UH;kM.prototype.stopSession=kM.prototype.Qt;kM.prototype.getCastSession=kM.prototype.S;kM.prototype.requestSession=kM.prototype.requestSession;kM.prototype.init=kM.prototype.init;kM.prototype.dispose=kM.prototype.dispose;var XH=[],wUn=(0,g.O2)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.X=rl.prototype;
g.X.reset=function(m){this.listId="";this.index=-1;this.videoId="";cR(this);this.volume=-1;this.muted=!1;m&&(this.index=m.index,this.listId=m.listId,this.videoId=m.videoId,this.playerState=m.playerState,this.volume=m.volume,this.muted=m.muted,this.audioTrackId=m.audioTrackId,this.trackData=m.trackData,this.hasPrevious=m.hasPrevious,this.hasNext=m.hasNext,this.U=m.playerTime,this.T=m.playerTimeAt,this.A=m.seekableStart,this.N=m.seekableEnd,this.L=m.duration,this.loadedTime=m.loadedTime,this.Z=m.liveIngestionTime,
this.D=!isNaN(this.Z))};
g.X.isPlaying=function(){return this.playerState==1};
g.X.isBuffering=function(){return this.playerState==3};
g.X.Ph=function(m){this.L=isNaN(m)?0:m};
g.X.getDuration=function(){return this.D?this.L+Dd(this):this.L};
g.X.clone=function(){return new rl(ST(this))};var OCn=class extends g.Vs{constructor(){var m=Je();super();this.L=0;this.D=m;this.N=[];this.T=new iU5;this.A=this.Z=null;this.S=(0,g.wc)(this.g0,this);this.V=(0,g.wc)(this.U,this);this.Zu=(0,g.wc)(this.ze,this);this.mS=(0,g.wc)(this.Te,this);let V=0;m?(V=m.getProxyState(),V!=3&&(m.subscribe("proxyStateChange",this.Ae,this),MXa(this))):V=3;V!=0&&g.er(()=>{this.Ae(V)},0);
(m=Cg5())&&ID(this,m);this.subscribe("yt-remote-cast2-session-change",this.mS)}getState(){return this.L}e1(){return this.D.getReconnectTimeout()}RH(){this.D.reconnect()}play(){uH(this)?(this.Z?this.Z.play(null,g.en,Zd(this,"play")):z2(this,"play"),FH(this,1,bH(eT(this))),this.publish("remotePlayerChange")):aD(this,this.play)}pause(){uH(this)?(this.Z?this.Z.pause(null,g.en,Zd(this,"pause")):z2(this,"pause"),FH(this,2,bH(eT(this))),this.publish("remotePlayerChange")):aD(this,this.pause)}seekTo(m){if(uH(this)){if(this.Z){const V=
eT(this),O=new chrome.cast.media.SeekRequest;O.currentTime=m;V.isPlaying()||V.isBuffering()?O.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:O.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.Z.seek(O,g.en,Zd(this,"seekTo",{newTime:m}))}else z2(this,"seekTo",{newTime:m});FH(this,3,m);this.publish("remotePlayerChange")}else aD(this,g.yW(this.seekTo,m))}stop(){if(uH(this)){this.Z?this.Z.stop(null,g.en,Zd(this,"stopVideo")):z2(this,"stopVideo");var m=eT(this);m.index=-1;m.videoId=
"";cR(m);s8(this,m);this.publish("remotePlayerChange")}else aD(this,this.stop)}setVolume(m,V){if(uH(this)){var O=eT(this);if(this.A){if(O.volume!=m){const h=Math.round(m)/100;this.A.setReceiverVolumeLevel(h,(0,g.wc)(function(){GT("set receiver volume: "+h)},this),(0,g.wc)(function(){this.D8("failed to set receiver volume.")},this))}O.muted!=V&&this.A.setReceiverMuted(V,(0,g.wc)(function(){GT("set receiver muted: "+V)},this),(0,g.wc)(function(){this.D8("failed to set receiver muted.")},this))}else{const h=
{volume:m,
muted:V};O.volume!=-1&&(h.delta=m-O.volume);z2(this,"setVolume",h)}O.muted=V;O.volume=m;s8(this,O)}else aD(this,g.yW(this.setVolume,m,V))}X(m,V){if(uH(this)){var O=eT(this);m={videoId:m};V&&(O.trackData={trackName:V.name,languageCode:V.languageCode,sourceLanguageCode:V.translationLanguage?V.translationLanguage.languageCode:"",languageName:V.languageName,kind:V.kind},m.style=g.X0(V.style),g.f9(m,O.trackData));z2(this,"setSubtitlesTrack",m);s8(this,O)}else aD(this,g.yW(this.X,m,V))}setAudioTrack(m,
V){uH(this)?(V=V.getLanguageInfo().getId(),z2(this,"setAudioTrack",{videoId:m,audioTrackId:V}),m=eT(this),m.audioTrackId=V,s8(this,m)):aD(this,g.yW(this.setAudioTrack,m,V))}playVideo(m,V,O,h=null,w=null,y=null,L=null){const J=eT(this),C={videoId:m};O!==void 0&&(C.currentIndex=O);nv(J,m,O||0);V!==void 0&&(Ne(J,V),C.currentTime=V);h&&(C.listId=h);w&&(C.playerParams=w);y&&(C.clickTrackingParams=y);L&&(C.locationInfo=g.X0(L));z2(this,"setPlaylist",C);h||s8(this,J)}Ps(m,V){if(uH(this)){if(m&&V){const O=
eT(this);nv(O,m,V);s8(this,O)}z2(this,"previous")}else aD(this,g.yW(this.Ps,m,V))}nextVideo(m,V){if(uH(this)){if(m&&V){const O=eT(this);nv(O,m,V);s8(this,O)}z2(this,"next")}else aD(this,g.yW(this.nextVideo,m,V))}EG(){if(uH(this)){z2(this,"clearPlaylist");var m=eT(this);m.reset();s8(this,m);this.publish("remotePlayerChange")}else aD(this,this.EG)}Qt(){uH(this)?z2(this,"dismissAutoplay"):aD(this,this.Qt)}dispose(){if(this.L!=3){const m=this.L;this.L=3;this.publish("proxyStateChange",m,this.L)}super.dispose()}d0(){fA5(this);
this.D=null;this.T.clear();ID(this,null);super.d0()}Ae(m){if((m!=this.L||m==2)&&this.L!=3&&m!=0){var V=this.L;this.L=m;this.publish("proxyStateChange",V,m);if(m==1)for(;!this.T.isEmpty();)V=m=this.T,V.Z.length===0&&(V.Z=V.A,V.Z.reverse(),V.A=[]),m.Z.pop().apply(this);else m==3&&this.dispose()}}H6(m,V){this.publish(m,V)}g0(m){if(!m)this.U(null),ID(this,null);else if(this.A.receiver.volume){m=this.A.receiver.volume;const V=eT(this),O=Math.round(100*m.level||0);if(V.volume!=O||V.muted!=m.muted)GT("Cast volume update: "+
m.level+(m.muted?" muted":"")),V.volume=O,V.muted=!!m.muted,s8(this,V)}}U(m){GT("Cast media: "+!!m);this.Z&&this.Z.removeUpdateListener(this.Zu);if(this.Z=m)this.Z.addUpdateListener(this.Zu),x1$(this),this.publish("remotePlayerChange")}ze(m){m?(x1$(this),this.publish("remotePlayerChange")):this.U(null)}FT(){z2(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}Te(){const m=Cg5();m&&ID(this,m)}D8(m){iM("CP",m)}};var gn=class extends g.Vs{constructor(m,V=!1){var O=vR,h=jK();super();this.U=NaN;this.ze=!1;this.S=this.Zu=this.Ae=this.mS=NaN;this.Qt=[];this.T=this.X=this.D=this.Z=this.A=null;this.Nf=O;this.H6=V;this.Qt.push(g.pn(window,"beforeunload",()=>{this.N(2)}));
this.L=[];this.Z=new rl;this.Xr=m.id;this.Te=m.idType;this.A=feZ(this.Nf,h,this.g0,this.Te=="shortLived",this.Xr);this.A.listen("channelOpened",()=>{Rj$(this)});
this.A.listen("channelClosed",()=>{iH("Channel closed");isNaN(this.U)?HQ(!0):HQ();this.dispose()});
this.A.listen("channelError",w=>{HQ();isNaN(this.V())?(w==1&&this.Te=="shortLived"&&this.publish("browserChannelAuthError",w),iH(`Channel error: ${w} without reconnection`),this.dispose()):(this.ze=!0,iH("Channel error: "+w+" with reconnection in "+this.V()+" ms"),pv(this,2))});
this.A.listen("channelMessage",w=>{$1A(this,w)});
this.A.Er(m.token);this.subscribe("remoteQueueChange",()=>{var w=this.Z.videoId;g.y4()&&g.OL("yt-remote-session-video-id",w)})}connect(m,V){if(V){var O=V.listId;
const h=V.videoId,w=V.videoIds,y=V.playerParams,L=V.clickTrackingParams,J=V.index,C={videoId:h},E=V.currentTime,q=V.locationInfo;V=V.loopMode;E!==void 0&&(C.currentTime=E<=5?0:E);y&&(C.playerParams=y);q&&(C.locationInfo=q);L&&(C.clickTrackingParams=L);O&&(C.listId=O);w&&w.length>0&&(C.videoIds=w.join(","));J!==void 0&&(C.currentIndex=J);this.H6&&(C.loopMode=V||"LOOP_MODE_OFF");O&&(this.Z.listId=O);this.Z.videoId=h;this.Z.index=J||0;this.Z.state=3;Ne(this.Z,E);this.T="UNSUPPORTED";O=this.H6?"setInitialState":
"setPlaylist";iH(`Connecting with ${O} and params: ${g.X0(C)}`);this.A.connect({method:O,params:g.X0(C)},m,KEh())}else iH("Connecting without params"),this.A.connect({},m,KEh());Y7A(this)}Er(m){this.A.Er(m)}dispose(){this.EH()||(g.ip("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),pv(this,3));super.dispose()}d0(){BR(this);lH(this);G2(this);g.zN(this.Zu);this.Zu=NaN;g.zN(this.S);this.S=NaN;this.D=null;g.Bb(this.Qt);this.Qt.length=0;this.A.dispose();super.d0();this.T=this.X=this.L=
this.Z=this.A=null}YN(m){if(!this.L||this.L.length===0)return!1;for(const V of this.L)if(!V.capabilities.has(m))return!1;return!0}jz(){let m=3;this.EH()||(m=0,isNaN(this.V())?this.A.LS()&&isNaN(this.U)&&(m=1):m=2);return m}N(m){iH("Disconnecting with "+m);g.ip("yt.mdx.remote.remoteClient_",null);BR(this);this.publish("beforeDisconnect",m);m==1&&HQ();this.A.disconnect(m);this.dispose()}xN(){let m=this.Z;this.D&&(m=this.Z.clone(),nv(m,this.D,m.index));return ST(m)}lH(m){const V=new rl(m);V.videoId&&
V.videoId!=this.Z.videoId&&(this.D=V.videoId,g.zN(this.Zu),this.Zu=g.er(()=>{if(this.D){const h=this.D;this.D=null;this.Z.videoId!=h&&Qm(this,"getNowPlaying")}},5E3));
const O=[];this.Z.listId==V.listId&&this.Z.videoId==V.videoId&&this.Z.index==V.index||O.push("remoteQueueChange");this.Z.playerState==V.playerState&&this.Z.volume==V.volume&&this.Z.muted==V.muted&&bH(this.Z)==bH(V)&&g.X0(this.Z.trackData)==g.X0(V.trackData)||O.push("remotePlayerChange");this.Z.reset(m);g.AG(O,function(h){this.publish(h)},this)}UH(){const m=this.A.getDeviceId(),V=g.HH(this.L,function(O){return O.type=="REMOTE_CONTROL"&&O.id!=m});
return V?V.id:""}V(){return this.A.e1()}w0(){return this.T||"UNSUPPORTED"}pA(){return this.X||""}Mf(){!isNaN(this.V())&&this.A.RH()}Sz(m,V){Qm(this,m,V);cPZ(this)}g0(){var m=g.Cn("SAPISID","")||g.Cn("__Secure-1PAPISID")||"",V=g.Cn("__Secure-3PAPISID","")||"";if(!m&&!V)return"";m=g.sS(g.uw(m),2);V=g.sS(g.uw(V),2);return g.sS(g.uw(`,${m},${V}`),2)}};gn.prototype.subscribe=gn.prototype.subscribe;gn.prototype.unsubscribeByKey=gn.prototype.xF;gn.prototype.getProxyState=gn.prototype.jz;
gn.prototype.disconnect=gn.prototype.N;gn.prototype.getPlayerContextData=gn.prototype.xN;gn.prototype.setPlayerContextData=gn.prototype.lH;gn.prototype.getOtherConnectedRemoteId=gn.prototype.UH;gn.prototype.getReconnectTimeout=gn.prototype.V;gn.prototype.getAutoplayMode=gn.prototype.w0;gn.prototype.getAutoplayVideoId=gn.prototype.pA;gn.prototype.reconnect=gn.prototype.Mf;gn.prototype.sendMessage=gn.prototype.Sz;gn.prototype.getXsrfToken=gn.prototype.g0;
gn.prototype.isCapabilitySupportedOnConnectedDevices=gn.prototype.YN;var ejJ=class extends Qe{constructor(m){super("ScreenServiceProxy");this.zM=m;this.Z=[];this.Z.push(this.zM.$_s("screenChange",(0,g.wc)(this.A,this)));this.Z.push(this.zM.$_s("onlineScreenChange",(0,g.wc)(this.L,this)))}dV(m){return this.zM.$_gs(m)}contains(m){return!!this.zM.$_c(m)}get(m){return this.zM.$_g(m)}start(){this.zM.$_st()}add(m,V,O){this.zM.$_a(m,V,O)}remove(m,V,O){this.zM.$_r(m,V,O)}x6(m,V,O,h){this.zM.$_un(m,V,O,h)}d0(){const m=this.Z.length;for(let V=0;V<m;++V)this.zM.$_ubk(this.Z[V]);
this.Z.length=0;this.zM=null;super.d0()}A(){this.publish("screenChange")}L(){this.publish("onlineScreenChange")}};ym.prototype.$_st=ym.prototype.start;ym.prototype.$_gspc=ym.prototype.Nt;ym.prototype.$_gsppc=ym.prototype.qM;ym.prototype.$_c=ym.prototype.contains;ym.prototype.$_g=ym.prototype.get;ym.prototype.$_a=ym.prototype.add;ym.prototype.$_un=ym.prototype.x6;ym.prototype.$_r=ym.prototype.remove;ym.prototype.$_gs=ym.prototype.dV;ym.prototype.$_gos=ym.prototype.yr;ym.prototype.$_s=ym.prototype.subscribe;
ym.prototype.$_ubk=ym.prototype.xF;var E1=null,oN=!1,vR=null,PR=null,RN=null,he=[];var hGJ=class extends g.Ja{constructor(m,V,O){super();this.Z=m;this.K=V;this.Zf=O;this.events=new g.hf(this);this.U=!1;this.X=new g.z8(64);this.A=new g.Vf(this.g0,500,this);this.L=new g.Vf(this.Te,1E3,this);this.Zu=new D9(this.Xr,0,this);this.D={};this.S=new g.Vf(this.UH,1E3,this);this.V=new g.mj(this.seekTo,1E3,this);this.YN=this.events.O(this.K,"onVolumeChange",h=>{ZtH(this,h)});
g.D(this,this.events);this.events.O(V,"onCaptionsTrackListChanged",this.Mf);this.events.O(V,"captionschanged",this.Nf);this.events.O(V,"captionssettingschanged",this.H6);this.events.O(V,"videoplayerreset",this.N);this.events.O(V,"mdxautoplaycancel",()=>{this.Zf.Qt()});
V.Y("enable_mdx_video_play_directly")&&this.events.O(V,"videodatachange",()=>{aAJ(this.Z)||Ae(this)||U1(this,0)});
m=this.Zf;m.EH();m.subscribe("proxyStateChange",this.ze,this);m.subscribe("remotePlayerChange",this.T,this);m.subscribe("remoteQueueChange",this.N,this);m.subscribe("previousNextChange",this.mS,this);m.subscribe("nowAutoplaying",this.Ae,this);m.subscribe("autoplayDismissed",this.Qt,this);g.D(this,this.A);g.D(this,this.L);g.D(this,this.Zu);g.D(this,this.S);g.D(this,this.V);this.H6();this.N();this.T()}d0(){super.d0();this.A.stop();this.L.stop();this.Zu.stop();const m=this.Zf;m.unsubscribe("proxyStateChange",
this.ze,this);m.unsubscribe("remotePlayerChange",this.T,this);m.unsubscribe("remoteQueueChange",this.N,this);m.unsubscribe("previousNextChange",this.mS,this);m.unsubscribe("nowAutoplaying",this.Ae,this);m.unsubscribe("autoplayDismissed",this.Qt,this);this.Zf=this.Z=null}LR(m,...V){if(this.Zf.L!=2)if(Ae(this)){if(eT(this.Zf).playerState!=1081||m!=="control_seek")switch(m){case "control_toggle_play_pause":eT(this.Zf).isPlaying()?this.Zf.pause():this.Zf.play();break;case "control_play":this.Zf.play();
break;case "control_pause":this.Zf.pause();break;case "control_seek":this.V.D(V[0],V[1]);break;case "control_subtitles_set_track":dn(this,V[0]);break;case "control_set_audio_track":this.setAudioTrack(V[0])}}else switch(m){case "control_toggle_play_pause":case "control_play":case "control_pause":m=this.K.getCurrentTime();U1(this,m===0?void 0:m);break;case "control_seek":U1(this,V[0]);break;case "control_subtitles_set_track":dn(this,V[0]);break;case "control_set_audio_track":this.setAudioTrack(V[0])}}Nf(m){this.Zu.yb(m)}Xr(m){this.LR("control_subtitles_set_track",
g.yg(m)?null:m)}H6(){const m=this.K.getOption("captions","track");g.yg(m)||dn(this,m)}PB(m){this.Z.PB(m,this.K.getVideoData().lengthSeconds)}Mf(){g.yg(this.D)||sbc(this,this.D);this.U=!1}ze(m,V){this.L.stop();V===2&&this.Te()}T(){if(Ae(this)){this.A.stop();var m=eT(this.Zf);switch(m.playerState){case 1080:case 1081:case 1084:case 1085:this.Z.AZ=1;break;case 1082:case 1083:this.Z.AZ=0;break;default:this.Z.AZ=-1}switch(m.playerState){case 1081:case 1:this.ma(new g.z8(8));this.g0();break;case 1085:case 3:this.ma(new g.z8(9));
break;case 1083:case 0:this.ma(new g.z8(2));this.V.stop();this.PB(this.K.getVideoData().lengthSeconds);break;case 1084:this.ma(new g.z8(4));break;case 2:this.ma(new g.z8(4));this.PB(bH(m));break;case -1:this.ma(new g.z8(64));break;case -1E3:this.ma(new g.z8(128,{errorCode:"mdx.remoteerror",errorMessage:"Este v\u00eddeo n\u00e3o se encontra dispon\u00edvel para reprodu\u00e7\u00e3o remota.",Se:2}))}const O=eT(this.Zf).trackData;m=O;var V=this.D;(m||V?m&&V&&m.trackName==V.trackName&&m.languageCode==
V.languageCode&&m.languageName==V.languageName&&m.kind==V.kind:1)||(this.D=O,sbc(this,O));m=eT(this.Zf);m.volume===-1||Math.round(this.K.getVolume())===m.volume&&this.K.isMuted()===m.muted||this.S.isActive()||this.UH()}else F3Z(this)}mS(){this.K.publish("mdxpreviousnextchange")}N(){Ae(this)||F3Z(this)}Ae(m){isNaN(m)||this.K.publish("mdxnowautoplaying",m)}Qt(){this.K.publish("mdxautoplaycanceled")}setAudioTrack(m){Ae(this)&&this.Zf.setAudioTrack(this.K.getVideoData(1).videoId,m)}seekTo(m,V){eT(this.Zf).playerState===
-1?U1(this,m):V&&this.Zf.seekTo(m)}UH(){if(Ae(this)){var m=eT(this.Zf);this.events.f4(this.YN);m.muted?this.K.mute():this.K.unMute();this.K.setVolume(m.volume);this.YN=this.events.O(this.K,"onVolumeChange",V=>{ZtH(this,V)})}}g0(){this.A.stop();
if(!this.Zf.EH()){var m=eT(this.Zf);m.isPlaying()&&this.ma(new g.z8(8));this.PB(bH(m));this.A.start()}}Te(){this.L.stop();this.A.stop();const m=this.Zf.e1();this.Zf.L==2&&!isNaN(m)&&this.L.start()}ma(m){this.L.stop();const V=this.X;if(!g.G8(V,m)){const O=m.Z(2);O!==this.X.Z(2)&&this.K.q1(O);this.X=m;itz(this.Z,V,m)}}};var w3A=class extends g.rz{constructor(m,V){super(m);this.Z=V}getCurrentTime(){return this.Z.getCurrentTime()}getDuration(){return this.Z.getDuration()}qC(){return this.Z.qC()}F8(){return this.Z.F8()}gI(){return this.Z.gI()}Pf(){return this.Z.Pf()}getPlayerState(){return this.Z.p6}isAtLiveHead(){return this.Z.isAtLiveHead()}pauseVideo(){te(this.Z,"control_pause")}async playVideo(){te(this.Z,"control_play")}seekTo(m,V){te(this.Z,"control_seek",m,!V?.Nr)}fM(m){te(this.Z,"control_set_audio_track",m);
return!0}};var yD5=class extends g.Q{constructor(){super({G:"div",J:"ytp-mdx-popup-dialog",C:{role:"dialog"},j:[{G:"div",J:"ytp-mdx-popup-dialog-inner-content",j:[{G:"div",J:"ytp-mdx-popup-title",c6:"N\u00e3o tem sess\u00e3o iniciada"},{G:"div",J:"ytp-mdx-popup-description",c6:"Os v\u00eddeos que vir podem ser adicionados ao hist\u00f3rico de visualiza\u00e7\u00f5es da TV e influenciar as recomenda\u00e7\u00f5es da TV. Para evitar isto, cancele e inicie sess\u00e3o no YouTube no computador."},{G:"div",J:"ytp-mdx-privacy-popup-buttons",
j:[{G:"button",KA:["ytp-button","ytp-mdx-privacy-popup-cancel"],c6:"Cancelar"},{G:"button",KA:["ytp-button","ytp-mdx-privacy-popup-confirm"],c6:"Confirmar"}]}]}]});this.fade=new g.Te(this,250);this.cancelButton=this.LA("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.LA("ytp-mdx-privacy-popup-confirm");g.D(this,this.fade);this.O(this.cancelButton,"click",this.Z);this.O(this.confirmButton,"click",this.A)}b2(){this.fade.show()}EU(){this.fade.hide()}Z(){$$("mdx-privacy-popup-cancel");this.EU()}A(){$$("mdx-privacy-popup-confirm");
this.EU()}};var j4H=class extends g.Q{constructor(m){super({G:"div",J:"ytp-remote",j:[{G:"div",J:"ytp-remote-display-status",j:[{G:"div",J:"ytp-remote-display-status-icon",j:[g.Bvo()]},{G:"div",J:"ytp-remote-display-status-text",c6:"{{statustext}}"}]}]});this.api=m;this.fade=new g.Te(this,250);g.D(this,this.fade);this.O(m,"presentingplayerstatechange",this.onStateChange);this.Jq(m.getPlayerStateObject())}onStateChange(m){this.Jq(m.state)}Jq(m){if(this.api.getPresentingPlayerType()===3){const V={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};m=m.Z(128)?g.qW("Erro em $RECEIVER_NAME",V):m.isPlaying()||m.isPaused()?g.qW("A reproduzir em $RECEIVER_NAME",V):g.qW("Liga\u00e7\u00e3o a $RECEIVER_NAME estabelecida",V);this.updateValue("statustext",m);this.fade.show()}else this.fade.hide()}};var LzA=class extends g.gz{constructor(m,V){super("Reproduzir em",1,m,V);this.K=m;this.PC={};this.O(m,"onMdxReceiversChange",this.U);this.O(m,"presentingplayerstatechange",this.U);this.U()}U(){var m=this.K.getOption("remote","receivers");m&&m.length>1&&!this.K.getOption("remote","quickCast")?(this.PC=g.iz(m,this.T,this),this.D(g.dc(m,this.T)),m=this.K.getOption("remote","currentReceiver"),m=this.T(m),this.options[m]&&this.A(m),this.enable(!0)):this.enable(!1)}T(m){return m.key}L(m){return m==="cast-selector-receiver"?
"Transmitir...":this.PC[m].name}Z(m){super.Z(m);this.K.setOption("remote","currentReceiver",this.PC[m]);this.Zj.EU()}};g.x3("remote",class extends g.dz{constructor(m){super(m);this.vM={key:Ay(),name:"Este computador"};this.PP=null;this.subscriptions=[];this.cw=this.Zf=null;this.PC=[this.vM];this.zD=this.vM;this.p6=new g.z8(64);this.Gw=0;this.AZ=-1;this.vS=!1;this.dM=this.zS=this.mW=null;if(!g.N$(this.player.B())&&!g.Fo(this.player.B())){m=this.player;var V=g.l0(m);V&&(V=V.F3())&&(V=new LzA(m,V),g.D(this,V));V=new j4H(m);g.D(this,V);g.Eh(m,V.element,4);this.mW=new yD5;g.D(this,this.mW);g.Eh(m,this.mW.element,4);this.vS=
!!yo()}}create(){var m=this.player.B();const V=g.nH(m);m={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:m.Y("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:m.Y("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:m.Y("enable_cast_short_lived_lounge_token")};nxA(V,m);this.subscriptions.push(g.wN("yt-remote-before-disconnect",this.us,this));this.subscriptions.push(g.wN("yt-remote-connection-change",this.DE,this));this.subscriptions.push(g.wN("yt-remote-receiver-availability-change",
this.gP,this));this.subscriptions.push(g.wN("yt-remote-auto-connect",this.Ln,this));this.subscriptions.push(g.wN("yt-remote-receiver-resumed",this.dN,this));this.subscriptions.push(g.wN("mdx-privacy-popup-confirm",this.ZO,this));this.subscriptions.push(g.wN("mdx-privacy-popup-cancel",this.Qx,this));this.gP()}load(){this.player.cancelPlayback();super.load();this.dM=new w3A(this.player.B(),this);this.player.Qy(this.dM);this.PP=new hGJ(this,this.player,this.Zf);var m=(m=zjM())?m.currentTime:0;const V=
xt()?new OCn:null;m==0&&V&&(m=bH(eT(V)));m!==0&&this.PB(m);itz(this,this.p6,this.p6);this.player.OQ(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.JK();this.zD=this.vM;g.LU(this.PP,this.Zf);this.Zf=this.dM=this.PP=null;super.unload();this.player.OQ(5);Kg(this)}d0(){g.yh(this.subscriptions);super.d0()}getAdState(){return this.AZ}hasPrevious(){return this.Zf?eT(this.Zf).hasPrevious:!1}hasNext(){return this.Zf?eT(this.Zf).hasNext:!1}PB(m,V){this.Gw=m||0;this.player.publish("progresssync",
m,V);g.i0(this.player,"onVideoProgress",m||0)}getCurrentTime(){return this.Gw}getDuration(){return eT(this.Zf).getDuration()||0}qC(){var m=eT(this.Zf);return m.D?m.Z+Dd(m):m.Z}F8(){return eT(this.Zf).loadedTime}gI(){return q7Z(eT(this.Zf))}Pf(){var m=eT(this.Zf);return m.A>0?m.A+Dd(m):m.A}getProgressState(){const m=eT(this.Zf),V=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:m.playerState!=1081&&this.player.Cr(),clipEnd:V.clipEnd,clipStart:V.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.qC(),isAtLiveHead:this.isAtLiveHead(),loaded:this.F8(),seekableEnd:this.gI(),seekableStart:this.Pf(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return q7Z(eT(this.Zf))-this.getCurrentTime()<=1}nextVideo(){this.Zf&&this.Zf.nextVideo()}Ps(){this.Zf&&this.Zf.Ps()}us(m){m===1&&(this.cw=this.Zf?eT(this.Zf):null)}DE(){var m=xt()?new OCn:null;if(m){const V=this.zD;this.loaded&&this.unload();this.Zf=m;this.cw=null;V.key!==this.vM.key&&
(this.zD=V,this.load())}else g.jh(this.Zf),this.Zf=null,this.loaded&&(this.unload(),(m=this.cw)&&m.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(m.videoId,bH(m)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}gP(){var m=[this.vM],V=m.concat;const O=S7W();HR()&&g.hc("yt-remote-cast-available")&&O.push({key:"cast-selector-receiver",name:"Cast..."});this.PC=V.call(m,O);m=Cg()||this.vM;Wa(this,m);g.i0(this.player,"onMdxReceiversChange")}Ln(){const m=
Cg();Wa(this,m)}dN(){this.zD=Cg()}ZO(){this.vS=!0;Kg(this);oN=!1;E1&&Md(E1,1);E1=null}Qx(){this.vS=!1;Kg(this);Wa(this,this.vM);this.zD=this.vM;oN=!1;E1=null;this.player.playVideo()}St(m,V){switch(m){case "casting":return this.loaded;case "receivers":return this.PC;case "currentReceiver":return V&&(V.key==="cast-selector-receiver"?$M():Wa(this,V)),this.loaded?this.zD:this.vM;case "quickCast":return this.PC.length===2&&this.PC[1].key==="cast-selector-receiver"?(V&&$M(),!0):!1}}FT(){this.Zf.FT()}Pm(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.u("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.u("SESSION_INDEX")&&!g.u("LOGGED_IN"))}});})(_yt_player);
